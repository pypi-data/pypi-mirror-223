import{K as Q,L as R,M as J,aa as Oe,V as W,$ as X,a2 as B,a3 as T,a5 as Y,ab as Ee,ac as Ae,ad as ve,ae as Pe,af as Me,Q as D,ag as H,Y as y,ah as Se,ai as ze,aj as be,ak as ke,a4 as w,ap as S,W as f,Z as O,aq as V,N as z,O as N,a1 as U,ax as q,aQ as Ce,aR as F,aJ as K,as as Be,aA as Te,aS as Ne,aW as Fe}from"./index-7e1ccce3.js";import{U as Ue}from"./Upload-39090073.js";import{M as De}from"./ModifyUpload-232adfe2.js";import{B as Ie}from"./BlockLabel-44a3035b.js";import{g as Ve}from"./color-31d935b5.js";import{l as Z,_ as G,o as x}from"./linear-8d973619.js";import{a as We}from"./csv-17a3ae92.js";import"./dsv-62f8cd07.js";var Xe=Object.defineProperty,Ye=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,ee=(l,e,t)=>e in l?Xe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,ye=(l,e)=>{for(var t in e||(e={}))He.call(e,t)&&ee(l,t,e[t]);if($)for(var t of $(e))Qe.call(e,t)&&ee(l,t,e[t]);return l},we=(l,e)=>Ye(l,qe(e));function Re(l){let e,t,n;return{c(){e=S("svg"),t=S("path"),n=S("path"),f(t,"d","M28.828 3.172a4.094 4.094 0 0 0-5.656 0L4.05 22.292A6.954 6.954 0 0 0 2 27.242V30h2.756a6.952 6.952 0 0 0 4.95-2.05L28.828 8.829a3.999 3.999 0 0 0 0-5.657zM10.91 18.26l2.829 2.829l-2.122 2.121l-2.828-2.828zm-2.619 8.276A4.966 4.966 0 0 1 4.756 28H4v-.759a4.967 4.967 0 0 1 1.464-3.535l1.91-1.91l2.829 2.828zM27.415 7.414l-12.261 12.26l-2.829-2.828l12.262-12.26a2.047 2.047 0 0 1 2.828 0a2 2 0 0 1 0 2.828z"),f(t,"fill","currentColor"),f(n,"d","M6.5 15a3.5 3.5 0 0 1-2.475-5.974l3.5-3.5a1.502 1.502 0 0 0 0-2.121a1.537 1.537 0 0 0-2.121 0L3.415 5.394L2 3.98l1.99-1.988a3.585 3.585 0 0 1 4.95 0a3.504 3.504 0 0 1 0 4.949L5.439 10.44a1.502 1.502 0 0 0 0 2.121a1.537 1.537 0 0 0 2.122 0l4.024-4.024L13 9.95l-4.025 4.024A3.475 3.475 0 0 1 6.5 15z"),f(n,"fill","currentColor"),f(e,"width","1em"),f(e,"height","1em"),f(e,"viewBox","0 0 32 32")},m(r,a){y(r,e,a),O(e,t),O(e,n)},p:V,i:V,o:V,d(r){r&&w(e)}}}class Le extends Q{constructor(e){super(),R(this,e,null,Re,J,{})}}function le(l){let e;return Array.isArray(l)?e=l.reduce((t,{values:n})=>[...t,...n.map(({y:r})=>r)],[]):e=l.values,[Math.min(...e),Math.max(...e)]}function te(l,e,t){const n=Object.entries(l[0]).reduce((r,a,o)=>(!e&&o===0||e&&a[0]===e?r.x.name=a[0]:(!t||t&&t.includes(a[0]))&&r.y.push({name:a[0],values:[]}),r),{x:{name:"",values:[]},y:[]});for(let r=0;r<l.length;r++){const a=Object.entries(l[r]);for(let o=0;o<a.length;o++){let[_,s]=a[o];_===n.x.name?n.x.values.push(parseFloat(s)):n.y[o-1].values.push({y:parseFloat(a[o][1]),x:parseFloat(a[0][1])})}}return n}function Je(l){let e,t,n,r;return{c(){e=z("div"),t=z("span"),n=N(l[0]),f(t,"class","inline-block w-3 h-3 mr-1 rounded-sm"),F(t,"background",l[3]),f(e,"class","bg-black bg-opacity-80 text-white py-1 px-[0.4rem] absolute text-xs flex items-center justify-center rounded"),F(e,"top",l[2]-l[5]/2+"px"),F(e,"left",l[1]-l[4]-7+"px"),Ne(()=>l[6].call(e))},m(a,o){y(a,e,o),O(e,t),O(e,n),r=Fe(e,l[6].bind(e))},p(a,[o]){o&8&&F(t,"background",a[3]),o&1&&U(n,a[0]),o&36&&F(e,"top",a[2]-a[5]/2+"px"),o&18&&F(e,"left",a[1]-a[4]-7+"px")},i:V,o:V,d(a){a&&w(e),r()}}}function Ke(l,e,t){let{text:n}=e,{x:r}=e,{y:a}=e,{color:o}=e,_,s;function p(){_=this.offsetWidth,s=this.offsetHeight,t(4,_),t(5,s)}return l.$$set=g=>{"text"in g&&t(0,n=g.text),"x"in g&&t(1,r=g.x),"y"in g&&t(2,a=g.y),"color"in g&&t(3,o=g.color)},[n,r,a,o,_,s,p]}class Ze extends Q{constructor(e){super(),R(this,e,Ke,Je,J,{text:0,x:1,y:2,color:3})}}function Ge(l,{color:e,text:t}){let n;function r(s){return n=new Ze({props:{text:t,x:s.pageX,y:s.pageY,color:e},target:document.body}),s}function a(s){n.$set({x:s.pageX,y:s.pageY})}function o(){n.$destroy()}const _=l;return _.addEventListener("mouseover",r),_.addEventListener("mouseleave",o),_.addEventListener("mousemove",a),{destroy(){_.removeEventListener("mouseover",r),_.removeEventListener("mouseleave",o),_.removeEventListener("mousemove",a)}}}function ne(l,e,t){const n=l.slice();n[16]=e[t].name,n[17]=e[t].values;const r=n[8][n[16]];return n[18]=r,n}function oe(l,e,t){const n=l.slice();return n[0]=e[t].x,n[1]=e[t].y,n}function re(l,e,t){const n=l.slice();n[16]=e[t].name,n[17]=e[t].values;const r=n[8][n[16]];return n[18]=r,n}function ae(l,e,t){const n=l.slice();return n[0]=e[t].x,n[1]=e[t].y,n}function se(l,e,t){const n=l.slice();return n[27]=e[t],n}function ie(l,e,t){const n=l.slice();return n[27]=e[t],n}function fe(l,e,t){const n=l.slice();return n[16]=e[t].name,n}function _e(l){let e,t,n,r=l[16]+"",a,o;return{c(){e=z("div"),t=z("span"),n=D(),a=N(r),o=D(),f(t,"class","inline-block w-[12px] h-[12px] rounded-sm "),F(t,"background-color",l[8][l[16]]),f(e,"class","mx-2 flex gap-1 items-center")},m(_,s){y(_,e,s),O(e,t),O(e,n),O(e,a),O(e,o)},p(_,s){s[0]&260&&F(t,"background-color",_[8][_[16]]),s[0]&4&&r!==(r=_[16]+"")&&U(a,r)},d(_){_&&w(e)}}}function ue(l){let e,t,n,r,a,o,_=l[27]+"",s,p,g;return{c(){e=S("line"),o=S("text"),s=N(_),f(e,"stroke-width","0.5"),f(e,"x1",t=l[5](l[27])),f(e,"x2",n=l[5](l[27])),f(e,"y1",r=l[4](l[9][0]<l[6][0]?l[9][0]:l[6][0])+10),f(e,"y2",a=l[4](l[6][1]>l[9][l[9].length-1]?l[6][1]:l[9][l[9].length-1])),f(e,"stroke","#aaa"),f(o,"class","font-mono text-xs dark:fill-slate-200"),f(o,"text-anchor","middle"),f(o,"x",p=l[5](l[27])),f(o,"y",g=l[4](l[9][0])+30)},m(i,h){y(i,e,h),y(i,o,h),O(o,s)},p(i,h){h[0]&1056&&t!==(t=i[5](i[27]))&&f(e,"x1",t),h[0]&1056&&n!==(n=i[5](i[27]))&&f(e,"x2",n),h[0]&592&&r!==(r=i[4](i[9][0]<i[6][0]?i[9][0]:i[6][0])+10)&&f(e,"y1",r),h[0]&592&&a!==(a=i[4](i[6][1]>i[9][i[9].length-1]?i[6][1]:i[9][i[9].length-1]))&&f(e,"y2",a),h[0]&1024&&_!==(_=i[27]+"")&&U(s,_),h[0]&1056&&p!==(p=i[5](i[27]))&&f(o,"x",p),h[0]&528&&g!==(g=i[4](i[9][0])+30)&&f(o,"y",g)},d(i){i&&w(e),i&&w(o)}}}function ce(l){let e,t,n,r,a,o,_=l[27]+"",s,p,g;return{c(){e=S("line"),o=S("text"),s=N(_),f(e,"stroke-width","0.5"),f(e,"y1",t=l[4](l[27])),f(e,"y2",n=l[4](l[27])),f(e,"x1",r=l[5](l[10][0]<l[7][0]?l[10][0]:l[7][0])-10),f(e,"x2",a=l[5](l[7][1]>l[10][l[10].length-1]?l[7][1]:l[10][l[10].length-1])),f(e,"stroke","#aaa"),f(o,"class","font-mono text-xs dark:fill-slate-200"),f(o,"text-anchor","end"),f(o,"y",p=l[4](l[27])+4),f(o,"x",g=l[5](l[10][0])-20)},m(i,h){y(i,e,h),y(i,o,h),O(o,s)},p(i,h){h[0]&528&&t!==(t=i[4](i[27]))&&f(e,"y1",t),h[0]&528&&n!==(n=i[4](i[27]))&&f(e,"y2",n),h[0]&1184&&r!==(r=i[5](i[10][0]<i[7][0]?i[10][0]:i[7][0])-10)&&f(e,"x1",r),h[0]&1184&&a!==(a=i[5](i[7][1]>i[10][i[10].length-1]?i[7][1]:i[10][i[10].length-1]))&&f(e,"x2",a),h[0]&512&&_!==(_=i[27]+"")&&U(s,_),h[0]&528&&p!==(p=i[4](i[27])+4)&&f(o,"y",p),h[0]&1056&&g!==(g=i[5](i[10][0])-20)&&f(o,"x",g)},d(i){i&&w(e),i&&w(o)}}}function me(l){let e,t,n,r,a,o,_=l[6][1]+"",s,p,g;return{c(){e=S("line"),o=S("text"),s=N(_),f(e,"stroke-width","0.5"),f(e,"y1",t=l[4](l[6][1])),f(e,"y2",n=l[4](l[6][1])),f(e,"x1",r=l[5](l[10][0])),f(e,"x2",a=l[5](l[7][1])),f(e,"stroke","#aaa"),f(o,"class","font-mono text-xs dark:fill-slate-200"),f(o,"text-anchor","end"),f(o,"y",p=l[4](l[6][1])+4),f(o,"x",g=l[5](l[10][0])-20)},m(i,h){y(i,e,h),y(i,o,h),O(o,s)},p(i,h){h[0]&80&&t!==(t=i[4](i[6][1]))&&f(e,"y1",t),h[0]&80&&n!==(n=i[4](i[6][1]))&&f(e,"y2",n),h[0]&1056&&r!==(r=i[5](i[10][0]))&&f(e,"x1",r),h[0]&160&&a!==(a=i[5](i[7][1]))&&f(e,"x2",a),h[0]&64&&_!==(_=i[6][1]+"")&&U(s,_),h[0]&80&&p!==(p=i[4](i[6][1])+4)&&f(o,"y",p),h[0]&1056&&g!==(g=i[5](i[10][0])-20)&&f(o,"x",g)},d(i){i&&w(e),i&&w(o)}}}function he(l){let e,t,n,r;return{c(){e=S("circle"),f(e,"r","3.5"),f(e,"cx",t=l[5](l[0])),f(e,"cy",n=l[4](l[1])),f(e,"stroke-width","1.5"),f(e,"stroke",r=l[18]),f(e,"fill","none")},m(a,o){y(a,e,o)},p(a,o){o[0]&36&&t!==(t=a[5](a[0]))&&f(e,"cx",t),o[0]&20&&n!==(n=a[4](a[1]))&&f(e,"cy",n),o[0]&260&&r!==(r=a[18])&&f(e,"stroke",r)},d(a){a&&w(e)}}}function de(l){let e,t,n,r=l[17],a=[];for(let o=0;o<r.length;o+=1)a[o]=he(ae(l,r,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=S("path"),f(e,"d",t=G().curve(x)(l[17].map(l[13]))),f(e,"fill","none"),f(e,"stroke",n=l[18]),f(e,"stroke-width","3")},m(o,_){for(let s=0;s<a.length;s+=1)a[s].m(o,_);y(o,e,_)},p(o,_){if(_[0]&308){r=o[17];let s;for(s=0;s<r.length;s+=1){const p=ae(o,r,s);a[s]?a[s].p(p,_):(a[s]=he(p),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}_[0]&52&&t!==(t=G().curve(x)(o[17].map(o[13])))&&f(e,"d",t),_[0]&260&&n!==(n=o[18])&&f(e,"stroke",n)},d(o){q(a,o),o&&w(e)}}}function ge(l){let e,t,n,r,a,o;return{c(){e=S("circle"),f(e,"r","7"),f(e,"cx",t=l[5](l[0])),f(e,"cy",n=l[4](l[1])),f(e,"stroke","black"),f(e,"fill","black"),F(e,"cursor","pointer"),F(e,"opacity","0")},m(_,s){y(_,e,s),a||(o=Be(r=Ge.call(null,e,{color:l[18],text:`(${l[0]}, ${l[1]})`})),a=!0)},p(_,s){l=_,s[0]&36&&t!==(t=l[5](l[0]))&&f(e,"cx",t),s[0]&20&&n!==(n=l[4](l[1]))&&f(e,"cy",n),r&&Te(r.update)&&s[0]&260&&r.update.call(null,{color:l[18],text:`(${l[0]}, ${l[1]})`})},d(_){_&&w(e),a=!1,o()}}}function pe(l){let e,t=l[17],n=[];for(let r=0;r<t.length;r+=1)n[r]=ge(oe(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=H()},m(r,a){for(let o=0;o<n.length;o+=1)n[o].m(r,a);y(r,e,a)},p(r,a){if(a[0]&308){t=r[17];let o;for(o=0;o<t.length;o+=1){const _=oe(r,t,o);n[o]?n[o].p(_,a):(n[o]=ge(_),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){q(n,r),r&&w(e)}}}function xe(l){let e,t,n,r,a,o,_,s,p,g,i=l[3].name+"",h,v=l[2],m=[];for(let c=0;c<v.length;c+=1)m[c]=_e(fe(l,v,c));let L=l[10],b=[];for(let c=0;c<L.length;c+=1)b[c]=ue(ie(l,L,c));let C=l[9],E=[];for(let c=0;c<C.length;c+=1)E[c]=ce(se(l,C,c));let k=l[6][1]>l[9][l[9].length-1]&&me(l),P=l[2],j=[];for(let c=0;c<P.length;c+=1)j[c]=de(re(l,P,c));let I=l[2],d=[];for(let c=0;c<I.length;c+=1)d[c]=pe(ne(l,I,c));return{c(){e=z("div"),t=z("div");for(let c=0;c<m.length;c+=1)m[c].c();n=D(),r=S("svg"),a=S("g");for(let c=0;c<b.length;c+=1)b[c].c();o=H();for(let c=0;c<E.length;c+=1)E[c].c();_=H(),k&&k.c();for(let c=0;c<j.length;c+=1)j[c].c();s=H();for(let c=0;c<d.length;c+=1)d[c].c();p=D(),g=z("div"),h=N(i),f(t,"class","flex justify-center items-center text-sm dark:text-slate-200"),f(r,"class","w-full"),f(r,"viewBox","-70 -20 700 420"),f(g,"class","flex justify-center align-items-center text-sm dark:text-slate-200"),f(e,"class","mt-3")},m(c,A){y(c,e,A),O(e,t);for(let u=0;u<m.length;u+=1)m[u].m(t,null);O(e,n),O(e,r),O(r,a);for(let u=0;u<b.length;u+=1)b[u].m(a,null);O(a,o);for(let u=0;u<E.length;u+=1)E[u].m(a,null);O(a,_),k&&k.m(a,null);for(let u=0;u<j.length;u+=1)j[u].m(r,null);O(r,s);for(let u=0;u<d.length;u+=1)d[u].m(r,null);O(e,p),O(e,g),O(g,h)},p(c,A){if(A[0]&260){v=c[2];let u;for(u=0;u<v.length;u+=1){const M=fe(c,v,u);m[u]?m[u].p(M,A):(m[u]=_e(M),m[u].c(),m[u].m(t,null))}for(;u<m.length;u+=1)m[u].d(1);m.length=v.length}if(A[0]&1648){L=c[10];let u;for(u=0;u<L.length;u+=1){const M=ie(c,L,u);b[u]?b[u].p(M,A):(b[u]=ue(M),b[u].c(),b[u].m(a,o))}for(;u<b.length;u+=1)b[u].d(1);b.length=L.length}if(A[0]&1712){C=c[9];let u;for(u=0;u<C.length;u+=1){const M=se(c,C,u);E[u]?E[u].p(M,A):(E[u]=ce(M),E[u].c(),E[u].m(a,_))}for(;u<E.length;u+=1)E[u].d(1);E.length=C.length}if(c[6][1]>c[9][c[9].length-1]?k?k.p(c,A):(k=me(c),k.c(),k.m(a,null)):k&&(k.d(1),k=null),A[0]&308){P=c[2];let u;for(u=0;u<P.length;u+=1){const M=re(c,P,u);j[u]?j[u].p(M,A):(j[u]=de(M),j[u].c(),j[u].m(r,s))}for(;u<j.length;u+=1)j[u].d(1);j.length=P.length}if(A[0]&308){I=c[2];let u;for(u=0;u<I.length;u+=1){const M=ne(c,I,u);d[u]?d[u].p(M,A):(d[u]=pe(M),d[u].c(),d[u].m(r,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=I.length}A[0]&8&&i!==(i=c[3].name+"")&&U(h,i)},i:V,o:V,d(c){c&&w(e),q(m,c),q(b,c),q(E,c),k&&k.d(),q(j,c),q(d,c)}}}function $e(l,e,t){let n,r,a,o,_,s,p,g,{value:i}=e,{x:h=void 0}=e,{y:v=void 0}=e,{colors:m=[]}=e;const L=ve();let b;function C(k){var P;let j=m[k%m.length];return j&&j in K?(P=K[j])==null?void 0:P.primary:j||K[Ve(k)].primary}Ce(()=>{L("process",{x:n,y:r})});const E=({x:k,y:P})=>[_(k),s(P)];return l.$$set=k=>{"value"in k&&t(11,i=k.value),"x"in k&&t(0,h=k.x),"y"in k&&t(1,v=k.y),"colors"in k&&t(12,m=k.colors)},l.$$.update=()=>{l.$$.dirty[0]&2051&&t(3,{x:n,y:r}=te(typeof i=="string"?We(i):i,h,v),n,(t(2,r),t(11,i),t(0,h),t(1,v))),l.$$.dirty[0]&8&&t(7,a=le(n)),l.$$.dirty[0]&4&&t(6,o=le(r)),l.$$.dirty[0]&128&&t(5,_=Z(a,[0,600]).nice()),l.$$.dirty[0]&64&&t(4,s=Z(o,[350,0]).nice()),l.$$.dirty[0]&32&&t(10,p=_.ticks(8)),l.$$.dirty[0]&16&&t(9,g=s.ticks(8)),l.$$.dirty[0]&4&&t(8,b=r.reduce((k,P,j)=>we(ye({},k),{[P.name]:C(j)}),{}))},[h,v,r,n,s,_,o,a,b,g,p,i,m,E]}class je extends Q{constructor(e){super(),R(this,e,$e,xe,J,{value:11,x:0,y:1,colors:12},null,[-1,-1])}}function el(l){let e,t,n;return t=new Ue({props:{filetype:"text/csv",include_file_metadata:!1,$$slots:{default:[nl]},$$scope:{ctx:l}}}),t.$on("load",l[16]),{c(){e=z("div"),W(t.$$.fragment),f(e,"class","h-full min-h-[8rem]")},m(r,a){y(r,e,a),X(t,e,null),n=!0},p(r,a){const o={};a&1052672&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){n||(B(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){r&&w(e),Y(t)}}}function ll(l){let e,t,n,r,a;return t=new De({}),t.$on("clear",l[14]),r=new je({props:{value:l[10],y:l[3],x:l[4],colors:l[8]}}),r.$on("process",l[15]),{c(){e=z("div"),W(t.$$.fragment),n=D(),W(r.$$.fragment),f(e,"class","input-model w-full h-60 flex justify-center items-center bg-gray-200 dark:bg-gray-600 relative")},m(o,_){y(o,e,_),X(t,e,null),O(e,n),X(r,e,null),a=!0},p(o,_){const s={};_&1024&&(s.value=o[10]),_&8&&(s.y=o[3]),_&16&&(s.x=o[4]),_&256&&(s.colors=o[8]),r.$set(s)},i(o){a||(B(t.$$.fragment,o),B(r.$$.fragment,o),a=!0)},o(o){T(t.$$.fragment,o),T(r.$$.fragment,o),a=!1},d(o){o&&w(e),Y(t),Y(r)}}}function tl(l){let e,t,n,r;const a=[rl,ol],o=[];function _(s,p){return s[11]?0:1}return e=_(l),t=o[e]=a[e](l),{c(){t.c(),n=H()},m(s,p){o[e].m(s,p),y(s,n,p),r=!0},p(s,p){let g=e;e=_(s),e===g?o[e].p(s,p):(be(),T(o[g],1,1,()=>{o[g]=null}),ke(),t=o[e],t?t.p(s,p):(t=o[e]=a[e](s),t.c()),B(t,1),t.m(n.parentNode,n))},i(s){r||(B(t),r=!0)},o(s){T(t),r=!1},d(s){o[e].d(s),s&&w(n)}}}function nl(l){let e=l[12]("interface.drop_csv")+"",t,n,r,a,o=l[12]("or")+"",_,s,p,g,i=l[12]("interface.click_to_upload")+"",h;return{c(){t=N(e),n=D(),r=z("br"),a=N("- "),_=N(o),s=N(" -"),p=z("br"),g=D(),h=N(i)},m(v,m){y(v,t,m),y(v,n,m),y(v,r,m),y(v,a,m),y(v,_,m),y(v,s,m),y(v,p,m),y(v,g,m),y(v,h,m)},p(v,m){m&4096&&e!==(e=v[12]("interface.drop_csv")+"")&&U(t,e),m&4096&&o!==(o=v[12]("or")+"")&&U(_,o),m&4096&&i!==(i=v[12]("interface.click_to_upload")+"")&&U(h,i)},d(v){v&&w(t),v&&w(n),v&&w(r),v&&w(a),v&&w(_),v&&w(s),v&&w(p),v&&w(g),v&&w(h)}}}function ol(l){let e,t,n,r;return n=new Le({}),{c(){e=z("div"),t=z("div"),W(n.$$.fragment),f(t,"class","h-5 dark:text-white opacity-50"),f(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(a,o){y(a,e,o),O(e,t),X(n,t,null),r=!0},p:V,i(a){r||(B(n.$$.fragment,a),r=!0)},o(a){T(n.$$.fragment,a),r=!1},d(a){a&&w(e),Y(n)}}}function rl(l){let e,t;return e=new je({props:{value:l[11],colors:l[8]}}),{c(){W(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p(n,r){const a={};r&2048&&(a.value=n[11]),r&256&&(a.colors=n[8]),e.$set(a)},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function al(l){let e,t,n,r,a,o,_,s;e=new Ie({props:{show_label:l[7],Icon:Le,label:l[6]||"TimeSeries"}});const p=[l[9]];let g={};for(let m=0;m<p.length;m+=1)g=Pe(g,p[m]);n=new Me({props:g});const i=[tl,ll,el],h=[];function v(m,L){return m[5]==="static"?0:m[10]?1:m[0]===void 0||m[0]===null?2:-1}return~(a=v(l))&&(o=h[a]=i[a](l)),{c(){W(e.$$.fragment),t=D(),W(n.$$.fragment),r=D(),o&&o.c(),_=H()},m(m,L){X(e,m,L),y(m,t,L),X(n,m,L),y(m,r,L),~a&&h[a].m(m,L),y(m,_,L),s=!0},p(m,L){const b={};L&128&&(b.show_label=m[7]),L&64&&(b.label=m[6]||"TimeSeries"),e.$set(b);const C=L&512?Se(p,[ze(m[9])]):{};n.$set(C);let E=a;a=v(m),a===E?~a&&h[a].p(m,L):(o&&(be(),T(h[E],1,1,()=>{h[E]=null}),ke()),~a?(o=h[a],o?o.p(m,L):(o=h[a]=i[a](m),o.c()),B(o,1),o.m(_.parentNode,_)):o=null)},i(m){s||(B(e.$$.fragment,m),B(n.$$.fragment,m),B(o),s=!0)},o(m){T(e.$$.fragment,m),T(n.$$.fragment,m),T(o),s=!1},d(m){Y(e,m),m&&w(t),Y(n,m),m&&w(r),~a&&h[a].d(m),m&&w(_)}}}function sl(l){let e,t;return e=new Oe({props:{visible:l[2],variant:l[5]==="dynamic"&&!l[10]?"dashed":"solid",color:"grey",padding:!1,elem_id:l[1],$$slots:{default:[al]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p(n,[r]){const a={};r&4&&(a.visible=n[2]),r&1056&&(a.variant=n[5]==="dynamic"&&!n[10]?"dashed":"solid"),r&2&&(a.elem_id=n[1]),r&1056761&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function il(l){return l.data.map(e=>e.reduce((t,n,r)=>we(ye({},t),{[l.headers[r]]:n}),{}))}function fl(l){const e=atob(l.split(",")[1]),t=l.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return new Blob([n],{type:t})}function _l(l,e){const t=[],n=[];t.push(l.name),e.forEach(({name:r})=>t.push(r));for(let r=0;r<l.values.length;r++){let a=[];a.push(l.values[r]),e.forEach(({values:o})=>a.push(o[r].y)),n.push(a)}return{headers:t,data:n}}function ul(l,e,t){let n,r;Ee(l,Ae,d=>t(12,r=d));const a=ve();let{elem_id:o=""}=e,{visible:_=!0}=e,{value:s}=e,{y:p}=e,{x:g}=e,{mode:i}=e,{label:h}=e,{show_label:v}=e,{colors:m}=e,{loading_status:L}=e,b;function C(d){const c=new FileReader;c.addEventListener("loadend",A=>{t(10,b=A.srcElement.result)}),c.readAsText(d)}function E(d){d.headers&&t(10,b=d.headers.join(",")),d.data.forEach(A=>{t(10,b=b+`
`),t(10,b=b+A.join(","))})}function k(d){return t(0,s={data:d}),d}function P({detail:d}){t(0,s=null),a("change"),a("clear")}const j=({detail:{x:d,y:c}})=>t(0,s=_l(d,c)),I=({detail:d})=>k(d);return l.$$set=d=>{"elem_id"in d&&t(1,o=d.elem_id),"visible"in d&&t(2,_=d.visible),"value"in d&&t(0,s=d.value),"y"in d&&t(3,p=d.y),"x"in d&&t(4,g=d.x),"mode"in d&&t(5,i=d.mode),"label"in d&&t(6,h=d.label),"show_label"in d&&t(7,v=d.show_label),"colors"in d&&t(8,m=d.colors),"loading_status"in d&&t(9,L=d.loading_status)},l.$$.update=()=>{l.$$.dirty&1&&(s&&s.data&&typeof s.data=="string"?s?C(fl(s.data)):t(10,b=null):s&&s.data&&typeof s.data!="string"&&(s||t(10,b=null),E(s))),l.$$.dirty&1025&&t(10,b=s==null?null:b),l.$$.dirty&33&&t(11,n=i==="static"&&s&&il(s)),l.$$.dirty&1&&a("change")},[s,o,_,p,g,i,h,v,m,L,b,n,r,k,P,j,I]}class cl extends Q{constructor(e){super(),R(this,e,ul,sl,J,{elem_id:1,visible:2,value:0,y:3,x:4,mode:5,label:6,show_label:7,colors:8,loading_status:9})}}var yl=cl;const wl=["static","dynamic"],Ll=l=>({type:"{data: Array<Array<number>> | string; headers?: Array<string>;}",description:"dataset of series"});export{yl as Component,Ll as document,wl as modes};
