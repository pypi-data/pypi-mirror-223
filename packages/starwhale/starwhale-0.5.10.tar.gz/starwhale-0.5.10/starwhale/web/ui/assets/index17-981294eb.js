import{K as pe,L as ke,M as ve,aS as ie,aa as we,V as M,$ as S,a0 as T,a2 as y,a3 as A,a5 as H,aB as ye,ae as je,af as ze,Q as G,ag as Be,Y as N,ah as Ae,ai as Ne,aj as E,ak as K,a4 as C,aN as Ce,ao as Y,N as w,W as h,X as B,aW as Ge,Z as j,aq as O,ar as I,aR as Z,ax as ae,at as Le,O as oe,a1 as se}from"./index-7e1ccce3.js";import{B as Re}from"./BlockLabel-44a3035b.js";import{M as qe}from"./ModifyUpload-232adfe2.js";import{n as F}from"./utils-de54785e.js";import{I as U}from"./Image2-3c84ddad.js";function J(t,e,l){const i=t.slice();return i[30]=e[l][0],i[31]=e[l][1],i[33]=l,i}function P(t,e,l){const i=t.slice();return i[30]=e[l],i[34]=e,i[33]=l,i}function $(t){let e,l;return e=new Re({props:{show_label:t[1],Icon:U,label:t[2]||"Gallery",disable:typeof t[6].container=="boolean"&&!t[6].container}}),{c(){M(e.$$.fragment)},m(i,a){S(e,i,a),l=!0},p(i,a){const n={};a[0]&2&&(n.show_label=i[1]),a[0]&4&&(n.label=i[2]||"Gallery"),a[0]&64&&(n.disable=typeof i[6].container=="boolean"&&!i[6].container),e.$set(n)},i(i){l||(y(e.$$.fragment,i),l=!0)},o(i){A(e.$$.fragment,i),l=!1},d(i){H(e,i)}}}function De(t){let e,l,i,a,n,r,o=t[7]!==null&&x(t);const p=[Se,Me],m=[];function g(f,_){return f[10].length===0?0:1}return i=g(t),a=m[i]=p[i](t),{c(){o&&o.c(),e=G(),l=w("div"),a.c(),h(l,"class","overflow-y-auto h-full p-2"),ie(()=>t[27].call(l)),B(l,"min-h-[350px]",t[6].height!=="auto"),B(l,"max-h-[55vh]",t[6].height!=="auto"),B(l,"xl:min-h-[450px]",t[6].height!=="auto")},m(f,_){o&&o.m(f,_),N(f,e,_),N(f,l,_),m[i].m(l,null),n=Ge(l,t[27].bind(l)),r=!0},p(f,_){f[7]!==null?o?(o.p(f,_),_[0]&128&&y(o,1)):(o=x(f),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(E(),A(o,1,1,()=>{o=null}),K());let z=i;i=g(f),i===z?m[i].p(f,_):(E(),A(m[z],1,1,()=>{m[z]=null}),K(),a=m[i],a?a.p(f,_):(a=m[i]=p[i](f),a.c()),y(a,1),a.m(l,null)),_[0]&64&&B(l,"min-h-[350px]",f[6].height!=="auto"),_[0]&64&&B(l,"max-h-[55vh]",f[6].height!=="auto"),_[0]&64&&B(l,"xl:min-h-[450px]",f[6].height!=="auto")},i(f){r||(y(o),y(a),r=!0)},o(f){A(o),A(a),r=!1},d(f){o&&o.d(f),f&&C(e),f&&C(l),m[i].d(),n()}}}function Ie(t){let e,l,i,a;return i=new U({}),{c(){e=w("div"),l=w("div"),M(i.$$.fragment),h(l,"class","h-5 dark:text-white opacity-50"),h(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,r){N(n,e,r),j(e,l),S(i,l,null),a=!0},p:O,i(n){a||(y(i.$$.fragment,n),a=!0)},o(n){A(i.$$.fragment,n),a=!1},d(n){n&&C(e),H(i)}}}function x(t){let e,l,i,a,n,r,o,p,m,g,f,_,z;l=new qe({}),l.$on("clear",t[21]);let s=t[10][t[7]][1]&&ee(t),b=t[10],k=[];for(let u=0;u<b.length;u+=1)k[u]=le(P(t,b,u));return{c(){e=w("div"),M(l.$$.fragment),i=G(),a=w("img"),p=G(),s&&s.c(),m=G(),g=w("div");for(let u=0;u<k.length;u+=1)k[u].c();h(a,"class","w-full object-contain h-[calc(100%-50px)"),I(a.src,n=t[10][t[7]][0].data)||h(a,"src",n),h(a,"alt",r=t[10][t[7]][1]||""),h(a,"title",o=t[10][t[7]][1]||null),Z(a,"height","calc(100% - "+(t[10][t[7]][1]?"80px":"60px")+")"),h(g,"class","absolute h-[60px] overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center"),h(e,"class","absolute group inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full"),B(e,"min-h-[350px]",t[6].height!=="auto"),B(e,"max-h-[55vh]",t[6].height!=="auto"),B(e,"xl:min-h-[450px]",t[6].height!=="auto")},m(u,d){N(u,e,d),S(l,e,null),j(e,i),j(e,a),j(e,p),s&&s.m(e,null),j(e,m),j(e,g);for(let v=0;v<k.length;v+=1)k[v].m(g,null);t[25](g),f=!0,_||(z=[T(a,"click",t[22]),T(e,"keydown",t[16])],_=!0)},p(u,d){if((!f||d[0]&1152&&!I(a.src,n=u[10][u[7]][0].data))&&h(a,"src",n),(!f||d[0]&1152&&r!==(r=u[10][u[7]][1]||""))&&h(a,"alt",r),(!f||d[0]&1152&&o!==(o=u[10][u[7]][1]||null))&&h(a,"title",o),(!f||d[0]&1152)&&Z(a,"height","calc(100% - "+(u[10][u[7]][1]?"80px":"60px")+")"),u[10][u[7]][1]?s?s.p(u,d):(s=ee(u),s.c(),s.m(e,m)):s&&(s.d(1),s=null),d[0]&3200){b=u[10];let v;for(v=0;v<b.length;v+=1){const L=P(u,b,v);k[v]?k[v].p(L,d):(k[v]=le(L),k[v].c(),k[v].m(g,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=b.length}d[0]&64&&B(e,"min-h-[350px]",u[6].height!=="auto"),d[0]&64&&B(e,"max-h-[55vh]",u[6].height!=="auto"),d[0]&64&&B(e,"xl:min-h-[450px]",u[6].height!=="auto")},i(u){f||(y(l.$$.fragment,u),f=!0)},o(u){A(l.$$.fragment,u),f=!1},d(u){u&&C(e),H(l),s&&s.d(),ae(k,u),t[25](null),_=!1,Le(z)}}}function ee(t){let e,l,i=t[10][t[7]][1]+"",a;return{c(){e=w("div"),l=w("div"),a=oe(i),h(l,"class","dark:text-gray-200 font-semibold px-3 py-1 max-w-full truncate"),h(e,"class","bottom-[50px] absolute z-[5] flex justify-center w-full")},m(n,r){N(n,e,r),j(e,l),j(l,a)},p(n,r){r[0]&1152&&i!==(i=n[10][n[7]][1]+"")&&se(a,i)},d(n){n&&C(e)}}}function le(t){let e,l,i,a,n,r,o,p=t[33],m,g;const f=()=>t[23](e,p),_=()=>t[23](null,p);function z(){return t[24](t[33])}return{c(){e=w("button"),l=w("img"),r=G(),h(l,"class","h-full w-full overflow-hidden object-contain"),I(l.src,i=t[30][0].data)||h(l,"src",i),h(l,"title",a=t[30][1]||null),h(l,"alt",n=t[30][1]||null),h(e,"class",o="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[7]===t[33]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")},m(s,b){N(s,e,b),j(e,l),j(e,r),f(),m||(g=T(e,"click",z),m=!0)},p(s,b){t=s,b[0]&1024&&!I(l.src,i=t[30][0].data)&&h(l,"src",i),b[0]&1024&&a!==(a=t[30][1]||null)&&h(l,"title",a),b[0]&1024&&n!==(n=t[30][1]||null)&&h(l,"alt",n),b[0]&128&&o!==(o="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[7]===t[33]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")&&h(e,"class",o),p!==t[33]&&(_(),p=t[33],f())},d(s){s&&C(e),_(),m=!1,g()}}}function Me(t){let e,l,i=t[10],a=[];for(let n=0;n<i.length;n+=1)a[n]=ne(J(t,i,n));return{c(){e=w("div");for(let n=0;n<a.length;n+=1)a[n].c();h(e,"class",l="grid gap-2 "+t[13]+" svelte-1g9btlg"),B(e,"pt-6",t[1])},m(n,r){N(n,e,r);for(let o=0;o<a.length;o+=1)a[o].m(e,null)},p(n,r){if(r[0]&17536){i=n[10];let o;for(o=0;o<i.length;o+=1){const p=J(n,i,o);a[o]?a[o].p(p,r):(a[o]=ne(p),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}r[0]&8192&&l!==(l="grid gap-2 "+n[13]+" svelte-1g9btlg")&&h(e,"class",l),r[0]&8194&&B(e,"pt-6",n[1])},i:O,o:O,d(n){n&&C(e),ae(a,n)}}}function Se(t){let e,l,i,a;return i=new U({}),{c(){e=w("div"),l=w("div"),M(i.$$.fragment),h(l,"class","h-5 dark:text-white opacity-50"),h(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,r){N(n,e,r),j(e,l),S(i,l,null),a=!0},p:O,i(n){a||(y(i.$$.fragment,n),a=!0)},o(n){A(i.$$.fragment,n),a=!1},d(n){n&&C(e),H(i)}}}function te(t){let e,l,i=t[31]+"",a;return{c(){e=w("div"),l=w("div"),a=oe(i),h(l,"class","bg-gray-50 dark:bg-gray-700 dark:text-gray-200 text-xs border-t border-l dark:border-gray-600 font-semibold px-3 py-1 rounded-tl-lg group-hover:opacity-50 max-w-full truncate"),h(e,"class","bottom-0 absolute z-[5] flex justify-end w-full")},m(n,r){N(n,e,r),j(e,l),j(l,a)},p(n,r){r[0]&1024&&i!==(i=n[31]+"")&&se(a,i)},d(n){n&&C(e)}}}function ne(t){let e,l,i,a,n,r,o,p,m=t[31]&&te(t);function g(){return t[26](t[33])}return{c(){e=w("button"),l=w("img"),n=G(),m&&m.c(),r=G(),h(l,"alt",i=t[31]||""),h(l,"class","h-full w-full overflow-hidden object-contain"),I(l.src,a=typeof t[30]=="string"?t[30]:t[30].data)||h(l,"src",a),h(e,"class","gallery-item group svelte-1g9btlg")},m(f,_){N(f,e,_),j(e,l),j(e,n),m&&m.m(e,null),j(e,r),o||(p=T(e,"click",g),o=!0)},p(f,_){t=f,_[0]&1024&&i!==(i=t[31]||"")&&h(l,"alt",i),_[0]&1024&&!I(l.src,a=typeof t[30]=="string"?t[30]:t[30].data)&&h(l,"src",a),t[31]?m?m.p(t,_):(m=te(t),m.c(),m.m(e,r)):m&&(m.d(1),m=null)},d(f){f&&C(e),m&&m.d(),o=!1,p()}}}function He(t){let e,l,i,a,n,r,o;const p=[t[0]];let m={};for(let s=0;s<p.length;s+=1)m=je(m,p[s]);e=new ze({props:m});let g=t[1]&&$(t);const f=[Ie,De],_=[];function z(s,b){return s[5]===null||s[10]===null?0:1}return a=z(t),n=_[a]=f[a](t),{c(){M(e.$$.fragment),l=G(),g&&g.c(),i=G(),n.c(),r=Be()},m(s,b){S(e,s,b),N(s,l,b),g&&g.m(s,b),N(s,i,b),_[a].m(s,b),N(s,r,b),o=!0},p(s,b){const k=b[0]&1?Ae(p,[Ne(s[0])]):{};e.$set(k),s[1]?g?(g.p(s,b),b[0]&2&&y(g,1)):(g=$(s),g.c(),y(g,1),g.m(i.parentNode,i)):g&&(E(),A(g,1,1,()=>{g=null}),K());let u=a;a=z(s),a===u?_[a].p(s,b):(E(),A(_[u],1,1,()=>{_[u]=null}),K(),n=_[a],n?n.p(s,b):(n=_[a]=f[a](s),n.c()),y(n,1),n.m(r.parentNode,r))},i(s){o||(y(e.$$.fragment,s),y(g),y(n),o=!0)},o(s){A(e.$$.fragment,s),A(g),A(n),o=!1},d(s){H(e,s),s&&C(l),g&&g.d(s),s&&C(i),_[a].d(s),s&&C(r)}}}function Te(t){let e,l,i,a;return ie(t[20]),e=new we({props:{visible:t[4],variant:"solid",color:"grey",padding:!1,elem_id:t[3],disable:typeof t[6].container=="boolean"&&!t[6].container,$$slots:{default:[He]},$$scope:{ctx:t}}}),{c(){M(e.$$.fragment)},m(n,r){S(e,n,r),l=!0,i||(a=T(window,"resize",t[20]),i=!0)},p(n,r){const o={};r[0]&16&&(o.visible=n[4]),r[0]&8&&(o.elem_id=n[3]),r[0]&64&&(o.disable=typeof n[6].container=="boolean"&&!n[6].container),r[0]&64999|r[1]&16&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){H(e,n),i=!1,a()}}}function Ve(t,e,l){let i,a,n,r,o,{loading_status:p}=e,{show_label:m}=e,{label:g}=e,{root:f}=e,{root_url:_}=e,{elem_id:z=""}=e,{visible:s=!0}=e,{value:b=null}=e,{style:k={}}=e,u=null,d=null;function v(c){switch(c.code){case"Escape":c.preventDefault(),l(7,d=null);break;case"ArrowLeft":c.preventDefault(),l(7,d=a);break;case"ArrowRight":c.preventDefault(),l(7,d=n);break}}let L=[],R;async function re(c){if(typeof c!="number")return;await Ce(),L[c].focus();const{left:q,width:W}=R.getBoundingClientRect(),{left:D,width:de}=L[c].getBoundingClientRect(),X=D-q+de/2-W/2+R.scrollLeft;R.scrollTo({left:X<0?0:X,behavior:"smooth"})}let V=0,Q=0;function fe(){l(9,Q=window.innerHeight)}const ue=()=>l(7,d=null),_e=()=>l(7,d=n);function ce(c,q){Y[c?"unshift":"push"](()=>{L[q]=c,l(11,L)})}const me=c=>l(7,d=c);function ge(c){Y[c?"unshift":"push"](()=>{R=c,l(12,R)})}const he=c=>l(7,d=r?c:d);function be(){V=this.clientHeight,l(8,V)}return t.$$set=c=>{"loading_status"in c&&l(0,p=c.loading_status),"show_label"in c&&l(1,m=c.show_label),"label"in c&&l(2,g=c.label),"root"in c&&l(17,f=c.root),"root_url"in c&&l(18,_=c.root_url),"elem_id"in c&&l(3,z=c.elem_id),"visible"in c&&l(4,s=c.visible),"value"in c&&l(5,b=c.value),"style"in c&&l(6,k=c.style)},t.$$.update=()=>{var c,q,W;t.$$.dirty[0]&393248&&l(10,i=b===null?null:b.map(D=>Array.isArray(D)?[F(D[0],_??f),D[1]]:[F(D,_??f),null])),t.$$.dirty[0]&524320&&u!==b&&(l(7,d=null),l(19,u=b)),t.$$.dirty[0]&1152&&(a=((d??0)+((c=i?.length)!=null?c:0)-1)%((q=i?.length)!=null?q:0)),t.$$.dirty[0]&1152&&l(15,n=((d??0)+1)%((W=i?.length)!=null?W:0)),t.$$.dirty[0]&128&&re(d),t.$$.dirty[0]&768&&l(14,r=Q>=V),t.$$.dirty[0]&64&&l(13,{classes:o}=ye(k,["grid"]),o)},[p,m,g,z,s,b,k,d,V,Q,i,L,R,o,r,n,v,f,_,u,fe,ue,_e,ce,me,ge,he,be]}class We extends pe{constructor(e){super(),ke(this,e,Ve,Te,ve,{loading_status:0,show_label:1,label:2,root:17,root_url:18,elem_id:3,visible:4,value:5,style:6},null,[-1,-1])}}var Ye=We;const Ze=["static"],Fe=t=>({type:"Array<{ name: string } | [{ name: string }, string]>",description:"list of objects with filename and optional caption"});export{Ye as Component,Fe as document,Ze as modes};
