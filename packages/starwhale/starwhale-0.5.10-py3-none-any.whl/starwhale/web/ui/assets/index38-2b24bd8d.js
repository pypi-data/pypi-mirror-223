import{K as R,L as A,M as C,V as P,$ as Q,a2 as D,a3 as L,a5 as S,ab as T,ac as V,ad as N,O as W,Y as v,a1 as Y,a4 as w,aN as G,al as H,a6 as I,N as U,Q as J,W as d,X as B,a0 as E,a7 as Z,a8 as p,a9 as x,at as $,aB as ee,ao as te}from"./index-7e1ccce3.js";function le(l){let e,i,n,u,c,o,r,f,b,m;const y=l[13].default,_=I(y,l,l[12],null);return{c(){e=U("input"),c=J(),o=U("button"),_&&_.c(),d(e,"class","hidden-upload hidden"),d(e,"accept",l[5]),d(e,"type","file"),e.multiple=i=l[3]==="multiple"||void 0,d(e,"webkitdirectory",n=l[3]==="directory"||void 0),d(e,"mozdirectory",u=l[3]==="directory"||void 0),d(o,"class",r="gr-button gr-button-"+l[2]+" "+l[6]),d(o,"id",l[0]),B(o,"!hidden",!l[1])},m(a,t){v(a,e,t),l[14](e),v(a,c,t),v(a,o,t),_&&_.m(o,null),f=!0,b||(m=[E(e,"change",l[8]),E(o,"click",l[7])],b=!0)},p(a,[t]){(!f||t&32)&&d(e,"accept",a[5]),(!f||t&8&&i!==(i=a[3]==="multiple"||void 0))&&(e.multiple=i),(!f||t&8&&n!==(n=a[3]==="directory"||void 0))&&d(e,"webkitdirectory",n),(!f||t&8&&u!==(u=a[3]==="directory"||void 0))&&d(e,"mozdirectory",u),_&&_.p&&(!f||t&4096)&&Z(_,y,a,a[12],f?x(y,a[12],t,null):p(a[12]),null),(!f||t&68&&r!==(r="gr-button gr-button-"+a[2]+" "+a[6]))&&d(o,"class",r),(!f||t&1)&&d(o,"id",a[0]),t&70&&B(o,"!hidden",!a[1])},i(a){f||(D(_,a),f=!0)},o(a){L(_,a),f=!1},d(a){a&&w(e),l[14](null),a&&w(c),a&&w(o),_&&_.d(a),b=!1,$(m)}}}function ie(l,e,i){let n,{$$slots:u={},$$scope:c}=e,{style:o={}}=e,{elem_id:r=""}=e,{visible:f=!0}=e,{size:b="lg"}=e,{file_count:m}=e,{file_types:y=["file"]}=e,{include_file_metadata:_=!0}=e,a;const t=N();let z="";try{y.forEach(s=>i(5,z+=s+"/*, "))}catch(s){if(s instanceof TypeError)t("error","Please set file_types to a list.");else throw s}const O=()=>{a.click()},X=s=>{let h=Array.from(s);if(!(!s.length||!window.FileReader)){m==="single"&&(h=[s[0]]);var g=[];h.forEach((k,K)=>{let F=new FileReader;F.readAsDataURL(k),F.onloadend=function(){g[K]=_?{name:k.name,size:k.size,data:this.result}:this.result,g.filter(M=>M!==void 0).length===s.length&&t("load",m=="single"?g[0]:g)}})}},j=s=>{const h=s.target;h.files&&X(h.files)};function q(s){te[s?"unshift":"push"](()=>{a=s,i(4,a)})}return l.$$set=s=>{"style"in s&&i(9,o=s.style),"elem_id"in s&&i(0,r=s.elem_id),"visible"in s&&i(1,f=s.visible),"size"in s&&i(2,b=s.size),"file_count"in s&&i(3,m=s.file_count),"file_types"in s&&i(10,y=s.file_types),"include_file_metadata"in s&&i(11,_=s.include_file_metadata),"$$scope"in s&&i(12,c=s.$$scope)},l.$$.update=()=>{l.$$.dirty&512&&i(6,{classes:n}=ee(o,["full_width"]),n)},[r,f,b,m,a,z,n,O,j,o,y,_,c,u,q]}class ne extends R{constructor(e){super(),A(this,e,ie,le,C,{style:9,elem_id:0,visible:1,size:2,file_count:3,file_types:10,include_file_metadata:11})}}function ae(l){let e=l[6](l[3])+"",i;return{c(){i=W(e)},m(n,u){v(n,i,u)},p(n,u){u&72&&e!==(e=n[6](n[3])+"")&&Y(i,e)},d(n){n&&w(i)}}}function se(l){let e,i;return e=new ne({props:{elem_id:l[1],style:l[0],visible:l[2],file_count:l[4],file_types:l[5],$$slots:{default:[ae]},$$scope:{ctx:l}}}),e.$on("click",l[9]),e.$on("load",l[7]),{c(){P(e.$$.fragment)},m(n,u){Q(e,n,u),i=!0},p(n,[u]){const c={};u&2&&(c.elem_id=n[1]),u&1&&(c.style=n[0]),u&4&&(c.visible=n[2]),u&16&&(c.file_count=n[4]),u&32&&(c.file_types=n[5]),u&2120&&(c.$$scope={dirty:u,ctx:n}),e.$set(c)},i(n){i||(D(e.$$.fragment,n),i=!0)},o(n){L(e.$$.fragment,n),i=!1},d(n){S(e,n)}}}function ue(l,e,i){let n;T(l,V,t=>i(6,n=t));let{style:u={}}=e,{elem_id:c=""}=e,{visible:o=!0}=e,{label:r}=e,{value:f}=e,{file_count:b}=e,{file_types:m=["file"]}=e;async function y({detail:t}){i(8,f=t),await G(),_("change",f),_("upload",t)}const _=N();function a(t){H.call(this,l,t)}return l.$$set=t=>{"style"in t&&i(0,u=t.style),"elem_id"in t&&i(1,c=t.elem_id),"visible"in t&&i(2,o=t.visible),"label"in t&&i(3,r=t.label),"value"in t&&i(8,f=t.value),"file_count"in t&&i(4,b=t.file_count),"file_types"in t&&i(5,m=t.file_types)},[u,c,o,r,b,m,n,y,f,a]}class fe extends R{constructor(e){super(),A(this,e,ue,se,C,{style:0,elem_id:1,visible:2,label:3,value:8,file_count:4,file_types:5})}}var _e=fe;const ce=["static"];export{_e as Component,ce as modes};
