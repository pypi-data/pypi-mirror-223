"use strict";(self.webpackChunkatoti_jupyterlab3=self.webpackChunkatoti_jupyterlab3||[]).push([[5893],{75893:(o,a,e)=>{e.r(a),e.d(a,{default:()=>h});var t=e(47078),i=e(56271),l=(e(74251),e(74898),e(57033)),n=e(56953),r=e(65400),s=e(96879),d=(e(21090),e(2258),e(79839),e(70894),e(59513),e(35937),e(59704),e(82729),e(86704),e(11265),e(72286),e(45479),e(7670),e(23279),e(45982)),p=(e(60065),e(56391),e(67523),e(66604),e(64749)),u=(e(79078),e(36968),e(41609),e(13218),e(10928),e(8799)),c=e(89734),y=e.n(c);function C(o,a){switch(a.type){case"comparisonValueChanged":return{...o,[a.isOptional?"optionalComparisonValue":"mandatoryComparisonValue"]:a.value};case"comparisonOperatorChanged":{const{isOptional:e,operator:t}=a;if(e)return{...o,optionalComparisonOperator:t};const{optionalComparisonOperator:i,optionalComparisonValue:l}=["eq","neq"].includes(t)?{optionalComparisonOperator:void 0,optionalComparisonValue:void 0}:o;return t.startsWith("lt")&&(null==i?void 0:i.startsWith("lt"))?{...o,mandatoryComparisonOperator:t,optionalComparisonOperator:"gt",optionalComparisonValue:void 0}:t.startsWith("gt")&&(null==i?void 0:i.startsWith("gt"))?{...o,mandatoryComparisonOperator:t,optionalComparisonOperator:"lt",optionalComparisonValue:void 0}:{...o,mandatoryComparisonOperator:t,optionalComparisonOperator:i,optionalComparisonValue:l}}case"optionalComparisonValueReset":return{...o,optionalComparisonValue:void 0};case"backgroundColorSelected":return{...o,selectedBackgroundColor:a.color}}}const{Option:m}=p.Z,v=["#8C8C8C","#FF7875","#FFC069","#FFF566","#95DE64","#69C0FF","#5CDBD3","#B37FEB","#FF85C0","#595959","#FF4D4F","#FFA940","#FFEC3D","#73D13D","#40A9FF","#36CFC9","#9254DE","#F759AB","#262626","#F5222D","#FA8C16","#FADB14","#52C41A","#1890FF","#13C2C2","#722ED1","#EB2F96"];var g={name:"7l1y32-MeasureConditionalStylePopover",styles:"&.ant-btn{margin-right:8px;};label:MeasureConditionalStylePopover;"};const h=o=>{var a;const{formatMessage:e}=(0,n.useIntl)(),c=(0,l.Fg)(),{conditionalStyle:h}=o,{style:x,...b}=h||{style:{}},O=void 0!==h&&0===Object.keys(b).length,[j,F]=(0,i.useReducer)(C,{},(()=>function(o){const{style:a,...e}=o||{style:{}},t={mandatoryComparisonOperator:"eq",selectedBackgroundColor:null==a?void 0:a.backgroundColor},i=y()(Object.entries(e),(([o,a])=>a));return i.length>0&&(t.mandatoryComparisonOperator=i[0][0],t.mandatoryComparisonValue=i[0][1]),2===i.length&&(t.optionalComparisonOperator=i[1][0],t.optionalComparisonValue=i[1][1]),t}(o.conditionalStyle))),{selectedBackgroundColor:S,mandatoryComparisonValue:f,optionalComparisonValue:k,mandatoryComparisonOperator:V,optionalComparisonOperator:B}=j,D="eq"===V||"neq"===V,[w,q,A]=function({mandatoryComparisonValue:o,optionalComparisonOperator:a,optionalComparisonValue:e,selectedBackgroundColor:t},i){return void 0===t?[!1,"invalidConditionalStyle","color"]:i?[!0]:void 0===o||void 0===e&&void 0!==a?[!1,"invalidConditionalStyle","value"]:void 0!==e&&void 0===a?[!1,"invalidConditionalStyle","operator"]:void 0!==e&&void 0!==a?a.startsWith("lt")?e>o?[!0]:[!1,"invalidComparison"]:e<o?[!0]:[!1,"invalidComparison"]:[!0]}(j,O),M=void 0!==o.conditionalStyle;return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}},(0,t.jsx)(d.Dx,{level:1},e({id:"aui.conditionalStyle."+(M?"edit":"add")})),(0,t.jsx)("div",{style:{marginTop:3,flexGrow:1}},O?null:(0,t.jsx)("div",null,(0,t.jsx)("div",{style:{marginBottom:2}},e({id:"aui.conditionalStyle.ifValue"})),(0,t.jsx)("div",{style:{display:"flex"}},(0,t.jsx)(p.Z,{"aria-label":"Mandatory operator selection",style:{width:"70%",marginRight:5},value:V,onChange:o=>{F({type:"comparisonOperatorChanged",operator:o})}},["eq","neq","lt","lte","gt","gte"].map((o=>(0,t.jsx)(m,{key:o,value:o},e({id:`aui.conditionalStyle.operator.${o}`}))))),(0,t.jsx)(u.Z,{"aria-label":"Mandatory comparison value input",style:{width:"30%"},value:f,type:"number",onChange:o=>"number"==typeof o&&F({type:"comparisonValueChanged",value:o})}))),O?null:(0,t.jsx)("div",null,(0,t.jsx)("div",{style:{marginBottom:2}},e({id:"aui.and"}),"Â ",(0,t.jsx)(d.xv,{small:!0,style:{color:c.grayScale[6]}},"(",e({id:"aui.conditionalStyle.optional"}),")")),(0,t.jsx)("div",{style:{display:"flex"}},(0,t.jsx)(p.Z,{disabled:D,style:{width:"70%",marginRight:5},value:B,onChange:o=>F({type:"comparisonOperatorChanged",operator:o,isOptional:!0}),"aria-label":"Optional operator selection",allowClear:!0},("lt"===V||"lte"===V?["gt","gte"]:["lt","lte"]).map((o=>(0,t.jsx)(m,{key:o,value:o},e({id:`aui.conditionalStyle.operator.${o}`}))))),(0,t.jsx)(u.Z,{"aria-label":"Optional comparison value input",style:{width:"30%"},type:"number",disabled:D,value:k,onChange:o=>{void 0===o||""===o?F({type:"optionalComparisonValueReset"}):"number"==typeof o&&F({type:"comparisonValueChanged",value:o,isOptional:!0})}}))),(0,t.jsx)("div",null,(0,t.jsx)("div",{style:{marginBottom:2}},e({id:"aui.conditionalStyle.styleAs"})),(0,t.jsx)("div",{style:{height:26,lineHeight:"26px",border:`1px solid ${c.grayScale[4]}`,backgroundColor:S?(0,l.Ut)(S,null!==(a=o.colorOpacity)&&void 0!==a?a:1):void 0,paddingLeft:5}},"123")),(0,t.jsx)("div",{style:{marginBottom:5,marginTop:5}},(0,t.jsx)("div",{style:{marginBottom:2}},e({id:"aui.conditionalStyle.backgroundColors"})),(0,t.jsx)(s.B,{colorOpacity:o.colorOpacity,selectedBackgroundColor:S,onSelectedBackgroundColorChanged:o=>F({type:"backgroundColorSelected",color:o}),colors:v,selectionMarkStyle:{color:c.selectionMarkDarkColor},numberOfColumns:9,numberOfRows:3}))),(0,t.jsx)("div",{style:{height:35,display:"flex",justifyContent:"flex-end"}},(0,t.jsx)(r.default,{css:g,onClick:()=>o.onCancel()},e({id:"aui.cancel"})),(0,t.jsx)(d.u,{trigger:w?[]:["hover"],placement:"right",title:q?e({id:`aui.conditionalStyle.${q}`},{type:A}):""},(0,t.jsx)(r.default,{disabled:!w,"aria-label":"Submit",type:"primary",onClick:()=>{O?o.onSubmitDefaultStyle({backgroundColor:S}):o.onSubmit({[V]:f,...B&&k?{[B]:k}:{},style:{backgroundColor:S}})}},e({id:"aui.conditionalStyle.apply"})))))}}}]);