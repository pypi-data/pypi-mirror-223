"use strict";(self.webpackChunkatoti_jupyterlab3=self.webpackChunkatoti_jupyterlab3||[]).push([[6879],{46879:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var i=a(4391),r=(a(66811),a(79839),a(56271)),o=a.n(r),n=a(65892),l=(a(36968),a(47289),a(22122)),s=a(91441),c=a.n(s),p=a(7254),d=a.n(p),u=a(45479);const f={xaxis:"xAxis",yaxis:"values"};c().register(d());const h=(0,i.h3)((0,i.i)((0,i.H9)((0,r.memo)((e=>{const{cube:t,data:a,metaData:s,widgetState:c}=e,p=(0,r.useMemo)((()=>(0,n.g)({cube:t,data:a,metaData:s,widgetState:c})),[t,a,s,c]),d=(0,r.useMemo)((()=>((e,t)=>e?(0,u.IM)({xaxis:{gridcolor:"transparent"}},(0,i.S5)(e.subplots),(0,i.lH)(e.subplots),(0,i.Gx)(e,"xaxis"),(0,i.oV)(t,f)):{})(s,c)),[s,c]);return o().createElement(i.XN,(0,l.Z)({},e,{traces:p,layout:d,cube:t,data:a,metaData:s}))})))))},7254:(e,t,a)=>{e.exports=a(98822)},16639:e=>{e.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},78875:(e,t,a)=>{var i=a(67855),r=a(15451).line,o=a(85485),n=a(88176).f,l=a(88176).s,s=a(72397),c=a(94867).extendFlat,p=a(57597);function d(e){return{marker:{color:c({},i.marker.color,{arrayOk:!1,editType:"style",description:"Sets the marker color of all "+e+" values."}),line:{color:c({},i.marker.line.color,{arrayOk:!1,editType:"style",description:"Sets the line color of all "+e+" values."}),width:c({},i.marker.line.width,{arrayOk:!1,editType:"style",description:"Sets the line width of all "+e+" values."}),editType:"style"},editType:"style"},editType:"style"}}e.exports={measure:{valType:"data_array",dflt:[],role:"info",editType:"calc",description:["An array containing types of values.","By default the values are considered as 'relative'.","However; it is possible to use 'total' to compute the sums.","Also 'absolute' could be applied to reset the computed total","or to declare an initial value where needed."].join(" ")},base:{valType:"number",dflt:null,arrayOk:!1,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units)."].join(" ")},x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,hovertext:i.hovertext,hovertemplate:n({},{keys:s.eventDataKeys}),hoverinfo:c({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],role:"info",editType:"plot",arrayOk:!1,description:["Determines which trace information appear on the graph.","In the case of having multiple waterfalls, totals","are computed separately (per trace)."].join(" ")},texttemplate:l({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:i.text,textposition:i.textposition,insidetextanchor:i.insidetextanchor,textangle:i.textangle,textfont:i.textfont,insidetextfont:i.insidetextfont,outsidetextfont:i.outsidetextfont,constraintext:i.constraintext,cliponaxis:i.cliponaxis,orientation:i.orientation,offset:i.offset,width:i.width,increasing:d("increasing"),decreasing:d("decreasing"),totals:d("intermediate sums and total"),connector:{line:{color:c({},r.color,{dflt:p.defaultLine}),width:c({},r.width,{editType:"plot"}),dash:r.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",role:"info",editType:"plot",description:["Sets the shape of connector lines."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Determines if connector lines are drawn. "].join(" ")},editType:"plot"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup}},10967:(e,t,a)=>{var i=a(34682),r=a(84189),o=a(34141).mergeArray,n=a(12356),l=a(45020).BADNUM;function s(e){return"a"===e||"absolute"===e}function c(e){return"t"===e||"total"===e}e.exports=function(e,t){var a,p,d,u,f=i.getFromId(e,t.xaxis||"x"),h=i.getFromId(e,t.yaxis||"y");"h"===t.orientation?(a=f.makeCalcdata(t,"x"),d=h.makeCalcdata(t,"y"),p=r(t,h,"y",d),u=!!t.yperiodalignment):(a=h.makeCalcdata(t,"y"),d=f.makeCalcdata(t,"x"),p=r(t,f,"x",d),u=!!t.xperiodalignment);for(var x,y=Math.min(p.length,a.length),m=new Array(y),v=0,g=!1,b=0;b<y;b++){var w=a[b]||0,S=!1;(a[b]!==l||c(t.measure[b])||s(t.measure[b]))&&b+1<y&&(a[b+1]!==l||c(t.measure[b+1])||s(t.measure[b+1]))&&(S=!0);var T=m[b]={i:b,p:p[b],s:w,rawS:w,cNext:S};s(t.measure[b])?(v=T.s,T.isSum=!0,T.dir="totals",T.s=v):c(t.measure[b])?(T.isSum=!0,T.dir="totals",T.s=v):(T.isSum=!1,T.dir=T.rawS<0?"decreasing":"increasing",x=T.s,T.s=v+x,v+=x),"totals"===T.dir&&(g=!0),u&&(m[b].orig_p=d[b]),t.ids&&(T.id=String(t.ids[b])),T.v=(t.base||0)+v}return m.length&&(m[0].hasTotals=g),o(t.text,m,"tx"),o(t.hovertext,m,"htx"),n(m,t),m}},72397:e=>{e.exports={eventDataKeys:["initial","delta","final"]}},11900:(e,t,a)=>{var i=a(55023).setGroupPositions;e.exports=function(e,t){var a,r,o=e._fullLayout,n=e._fullData,l=e.calcdata,s=t.xaxis,c=t.yaxis,p=[],d=[],u=[];for(r=0;r<n.length;r++){var f=n[r];!0===f.visible&&f.xaxis===s._id&&f.yaxis===c._id&&"waterfall"===f.type&&(a=l[r],"h"===f.orientation?u.push(a):d.push(a),p.push(a))}var h={mode:o.waterfallmode,norm:o.waterfallnorm,gap:o.waterfallgap,groupgap:o.waterfallgroupgap};for(i(e,s,c,d,h),i(e,c,s,u,h),r=0;r<p.length;r++){a=p[r];for(var x=0;x<a.length;x++){var y=a[x];!1===y.isSum&&(y.s0+=0===x?0:a[x-1].s),x+1<a.length&&(a[x].nextP0=a[x+1].p0,a[x].nextS0=a[x+1].s0)}}}},59449:(e,t,a)=>{var i=a(34141),r=a(58061).handleGroupingDefaults,o=a(58061).handleText,n=a(73978),l=a(92588),s=a(78875),c=a(57597),p=a(16639),d=p.INCREASING.COLOR,u=p.DECREASING.COLOR;function f(e,t,a){e(t+".marker.color",a),e(t+".marker.line.color",c.defaultLine),e(t+".marker.line.width")}e.exports={supplyDefaults:function(e,t,a,r){function c(a,r){return i.coerce(e,t,s,a,r)}if(n(e,t,r,c)){l(e,t,r,c),c("measure"),c("orientation",t.x&&!t.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var p=c("textposition");o(e,t,r,c,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==t.textposition&&(c("texttemplate"),t.texttemplate||c("textinfo")),f(c,"increasing",d),f(c,"decreasing",u),f(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else t.visible=!1},crossTraceDefaults:function(e,t){var a,o;function n(e){return i.coerce(o._input,o,s,e)}if("group"===t.waterfallmode)for(var l=0;l<e.length;l++)a=(o=e[l])._input,r(a,o,t,n)}}},5979:e=>{e.exports=function(e,t){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,"initial"in t&&(e.initial=t.initial),"delta"in t&&(e.delta=t.delta),"final"in t&&(e.final=t.final),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}},32190:(e,t,a)=>{var i=a(34682).hoverLabelText,r=a(57597).opacity,o=a(99921).hoverOnBars,n=a(16639),l=n.INCREASING.SYMBOL,s=n.DECREASING.SYMBOL;e.exports=function(e,t,a,n){var c=o(e,t,a,n);if(c){var p=c.cd,d=p[0].trace,u="h"===d.orientation,f=u?e.xa:e.ya,h=p[c.index],x=h.isSum?h.b+h.s:h.rawS;if(!h.isSum){c.initial=h.b+h.s-x,c.delta=x,c.final=c.initial+c.delta;var y=S(Math.abs(c.delta));c.deltaLabel=x<0?"("+y+")":y,c.finalLabel=S(c.final),c.initialLabel=S(c.initial)}var m=h.hi||d.hoverinfo,v=[];if(m&&"none"!==m&&"skip"!==m){var g="all"===m,b=m.split("+"),w=function(e){return g||-1!==b.indexOf(e)};h.isSum||(!w("final")||w(u?"x":"y")||v.push(c.finalLabel),w("delta")&&(x<0?v.push(c.deltaLabel+" "+s):v.push(c.deltaLabel+" "+l)),w("initial")&&v.push("Initial: "+c.initialLabel))}return v.length&&(c.extraText=v.join("<br>")),c.color=function(e,t){var a=e[t.dir].marker,i=a.color,o=a.line.color,n=a.line.width;return r(i)?i:r(o)&&n?o:void 0}(d,h),[c]}function S(e){return i(f,e)}}},98822:(e,t,a)=>{e.exports={attributes:a(78875),layoutAttributes:a(80559),supplyDefaults:a(59449).supplyDefaults,crossTraceDefaults:a(59449).crossTraceDefaults,supplyLayoutDefaults:a(28337),calc:a(10967),crossTraceCalc:a(11900),plot:a(53106),style:a(22077).style,hoverPoints:a(32190),eventData:a(5979),selectPoints:a(17155),moduleType:"trace",name:"waterfall",basePlotModule:a(8095),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{description:["Draws waterfall trace which is useful graph to displays the","contribution of various elements (either positive or negative)","in a bar chart. The data visualized by the span of the bars is","set in `y` if `orientation` is set th *v* (the default) and the","labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}},80559:e=>{e.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",role:"info",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},waterfallgap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},28337:(e,t,a)=>{var i=a(34141),r=a(80559);e.exports=function(e,t,a){var o=!1;function n(a,o){return i.coerce(e,t,r,a,o)}for(var l=0;l<a.length;l++){var s=a[l];if(s.visible&&"waterfall"===s.type){o=!0;break}}o&&(n("waterfallmode"),n("waterfallgap",.2),n("waterfallgroupgap"))}},53106:(e,t,a)=>{var i=a(15078),r=a(34141),o=a(84474),n=a(45020).BADNUM,l=a(38327),s=a(50001).clearMinTextSize;e.exports=function(e,t,a,c){var p=e._fullLayout;s("waterfall",p),l.plot(e,t,a,c,{mode:p.waterfallmode,norm:p.waterfallmode,gap:p.waterfallgap,groupgap:p.waterfallgroupgap}),function(e,t,a,l){var s=t.xaxis,c=t.yaxis;r.makeTraceGroups(l,a,"trace bars").each((function(a){var l=i.select(this),p=a[0].trace,d=r.ensureSingle(l,"g","lines");if(p.connector&&p.connector.visible){var u="h"===p.orientation,f=p.connector.mode,h=d.selectAll("g.line").data(r.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var x=h.size();h.each((function(a,l){if(l===x-1||a.cNext){var p=function(e,t,a,i){var r=[],o=[],n=i?t:a,l=i?a:t;return r[0]=n.c2p(e.s0,!0),o[0]=l.c2p(e.p0,!0),r[1]=n.c2p(e.s1,!0),o[1]=l.c2p(e.p1,!0),r[2]=n.c2p(e.nextS0,!0),o[2]=l.c2p(e.nextP0,!0),i?[r,o]:[o,r]}(a,s,c,u),d=p[0],h=p[1],y="";d[0]!==n&&h[0]!==n&&d[1]!==n&&h[1]!==n&&("spanning"===f&&!a.isSum&&l>0&&(y+=u?"M"+d[0]+","+h[1]+"V"+h[0]:"M"+d[1]+","+h[0]+"H"+d[0]),"between"!==f&&(a.isSum||l<x-1)&&(y+=u?"M"+d[1]+","+h[0]+"V"+h[1]:"M"+d[0]+","+h[1]+"H"+d[1]),d[2]!==n&&h[2]!==n&&(y+=u?"M"+d[1]+","+h[1]+"V"+h[2]:"M"+d[1]+","+h[1]+"H"+d[2])),""===y&&(y="M0,0Z"),r.ensureSingle(i.select(this),"path").attr("d",y).call(o.setClipUrl,t.layerClipId,e)}}))}else d.remove()}))}(e,t,a,c)}},22077:(e,t,a)=>{var i=a(15078),r=a(84474),o=a(57597),n=a(44822).DESELECTDIM,l=a(49888),s=a(50001).resizeText,c=l.styleTextPoints;e.exports={style:function(e,t,a){var l=a||i.select(e).selectAll("g.waterfalllayer").selectAll("g.trace");s(e,l,"waterfall"),l.style("opacity",(function(e){return e[0].trace.opacity})),l.each((function(t){var a=i.select(this),l=t[0].trace;a.selectAll(".point > path").each((function(e){if(!e.isBlank){var t=l[e.dir].marker;i.select(this).call(o.fill,t.color).call(o.stroke,t.line.color).call(r.dashLine,t.line.dash,t.line.width).style("opacity",l.selectedpoints&&!e.selected?n:1)}})),c(a,l,e),a.selectAll(".lines").each((function(){var e=l.connector.line;r.lineGroupStyle(i.select(this).selectAll("path"),e.width,e.color,e.dash)}))}))}}}}]);