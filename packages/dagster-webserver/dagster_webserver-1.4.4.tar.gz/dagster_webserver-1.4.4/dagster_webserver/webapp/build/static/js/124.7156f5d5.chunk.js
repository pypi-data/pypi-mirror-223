(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[124],{94232:function(e,n,r){"use strict";r.d(n,{Q1:function(){return b},Qf:function(){return R},zc:function(){return y}});var t,o=r(71171),i=r(68079),u=r(96234),s=r(33028),l=r(60319),a=r(90239),c=r(31623),d=r(45519),f=r(32667),p=r(8236),h=r.n(p),x=r(78193),v=r(50032),g=r(67099),C=r(85279),m=r(20967),w=r(95904),j=r(35936),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.a)(k,{variables:{queuedFilter:(0,s.Z)((0,s.Z)({},e),{},{statuses:Array.from(m.sy)}),inProgressFilter:(0,s.Z)((0,s.Z)({},e),{},{statuses:Array.from(m.Ys)})}}),r=n.data,t=x.useMemo((function(){var e,n;return{queuedCount:"Runs"===(null===r||void 0===r||null===(e=r.queuedCount)||void 0===e?void 0:e.__typename)?r.queuedCount.count:null,inProgressCount:"Runs"===(null===r||void 0===r||null===(n=r.inProgressCount)||void 0===n?void 0:n.__typename)?r.inProgressCount.count:null}}),[r]),o=t.queuedCount,l=t.inProgressCount,c=(0,w.oD)(),f=(0,u.Z)(c,1)[0],p=R(f);(0,g.j)(function(e){switch(e){case"all":return"Runs | All runs";case"failed":return"Runs | Failed";case"in-progress":return"Runs | In progress";case"queued":return"Runs | Queued";case"scheduled":return"Runs | Scheduled";default:return"Runs"}}(p));var h=function(e){var n=f.filter((function(e){return"status"!==e.token})),r=e.map((function(e){return{token:"status",value:e}}));return(0,w.it)([].concat((0,i.Z)(r),(0,i.Z)(n)))};return{tabs:(0,j.jsxs)(d.zH,{children:[(0,j.jsx)(b,{to:h([]),id:"all",$active:"all"===p,children:"All runs"}),(0,j.jsxs)(b,{to:h(Array.from(m.sy)),id:"queued",$active:"queued"===p,children:["Queued (",null!==o&&void 0!==o?o:"indeterminate",")"]}),(0,j.jsxs)(b,{to:h(Array.from(m.Ys)),id:"in-progress",$active:"in-progress"===p,children:["In progress (",null!==l&&void 0!==l?l:"indeterminate",")"]}),(0,j.jsx)(b,{to:h(Array.from(m.hd)),id:"failed",$active:"failed"===p,children:"Failed"}),(0,j.jsx)(b,{title:"Scheduled",to:"/runs/scheduled",id:"scheduled",$active:"scheduled"===p,children:"Scheduled"})]}),queryResult:n}},b=(0,l.ZP)(C.A).withConfig({displayName:"RunListTabs__ActivatableButton",componentId:"sc-l84x0v-0"})(["",""],(function(e){return e.$active&&"\n    background: ".concat(f.w.Gray200,";\n  ")})),R=function(e){var n=(0,v.TH)().pathname;if("/runs/timeline"===n)return"timeline";if("/runs/scheduled"===n)return"scheduled";if("/overview/backfills"===n)return"backfills";var r=new Set(e.filter((function(e){return"status"===e.token})).map((function(e){return e.value})));return h()(m.sy,r)?"queued":h()(m.Ys,r)?"in-progress":h()(m.hd,r)?"failed":"all"},k=(0,c.Ps)(t||(t=(0,o.Z)(["\n  query RunTabsCountQuery($queuedFilter: RunsFilter!, $inProgressFilter: RunsFilter!) {\n    queuedCount: pipelineRunsOrError(filter: $queuedFilter) {\n      ... on Runs {\n        count\n      }\n    }\n    inProgressCount: pipelineRunsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        count\n      }\n    }\n  }\n"])))},78124:function(e,n,r){"use strict";r.r(n),r.d(n,{RunsRoot:function(){return Q},default:function(){return Y}});var t=r(71171),o=r(33028),i=r(68079),u=r(96234),s=r(31623),l=r(90239),a=r(29845),c=r(47515),d=r(3586),f=r(20356),p=r(83473),h=r(32667),x=r(16255),v=r(67445),g=r(92555),C=r(86562),m=r(569),w=r.n(m),j=r(78193),y=r(97412),b=r(62638),R=r(39707),k=r(74894),_=r(70363),Z=r(35936);function P(e){var n=e.node,r=j.useRef(null);return j.useLayoutEffect((function(){var e=r.current;if(n.parentNode!==e){if(null!==n.parentNode&&n.parentNode!==e)throw Error("Cannot render the same node twice");return null===e||void 0===e||e.appendChild(n),function(){null===e||void 0===e||e.removeChild(n)}}}),[n]),(0,Z.jsx)("div",{ref:r})}var q,E,$=r(671),A=r(76612),F=r(13422),N=r(42468),I=r(94232),O=r(8709),T=r(89622),S=r(95904),z=r(4774),Q=function(){(0,k.Px)();var e=(0,S.oD)(),n=(0,u.Z)(e,2),r=n[0],t=n[1],s=(0,S.VH)(r),l=(0,A._)(),m=(0,z.l)({nextCursorForResult:function(e){var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:function(e){return e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]},variables:{filter:s},query:B,pageSize:25}),b=m.queryResult,q=m.paginationProps,E=(0,R.C4)(b,R.dT),$=(0,I.Qf)(r),Q="all"!==$,Y=w()(r,(function(e){return"status"===e.token})),G=(0,u.Z)(Y,2),H=G[0],J=G[1],L=j.useCallback((function(e){t(Q?[].concat((0,i.Z)(H),(0,i.Z)(e)):e)}),[t,Q,H]),U=j.useCallback((function(e){var n=(0,a.HY)(e);J.some((function(e){return(0,a.HY)(e)===n}))||L([].concat((0,i.Z)(J),[e]))}),[J,L]),V=j.useMemo((function(){var e=["tag","snapshotId","id","job","pipeline","backfill"];return Q||e.push("status"),e}),[Q]),M=j.useMemo((function(){return Q?r.filter((function(e){return"status"!==e.token})):r}),[r,Q]),K=(0,I.zc)(s),W=K.tabs,X=K.queryResult,ee=(0,R.C4)(X,R.dT),ne=(0,R.V5)(ee,E),re=(0,S.Vv)({tokens:M,onChange:L,enabledFilters:V}),te=re.button,oe=re.activeFiltersJsx,ie=function(e){var n=j.useState(null),r=(0,u.Z)(n,2),t=r[0],o=r[1];return j.useLayoutEffect((function(){o((function(e){return null===e?document.createElement("div"):e}))}),[]),[t?(0,_.createPortal)(e,t):null,t?(0,Z.jsx)(P,{node:t}):null]}(te),ue=(0,u.Z)(ie,2),se=ue[0],le=ue[1];function ae(){return(0,Z.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[W,le]})}return(0,Z.jsxs)(d.T,{children:[(0,Z.jsx)(f.m,{title:(0,Z.jsx)(p.X6,{children:"Runs"}),right:(0,Z.jsx)(R.xi,{refreshState:ne})}),se,"queued"===$&&l?(0,Z.jsxs)(c.x,{flex:{direction:"column",gap:8},padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:h.w.KeylineGray},children:[(0,Z.jsx)(x.b,{intent:"info",title:(0,Z.jsx)(y.rU,{to:"/config#run_coordinator",children:"View queue configuration"})}),(0,Z.jsx)(D,{})]}):null,(0,Z.jsx)(T.Lw.Provider,{value:{refetch:b.refetch},children:(0,Z.jsx)(F.g,{queryResult:b,allowStaleData:!0,renderError:function(e){var n=!(null===e||void 0===e||!e.networkError||!("statusCode"in e.networkError)||400!==e.networkError.statusCode);return(0,Z.jsxs)(c.x,{flex:{direction:"column",gap:32},padding:{vertical:8,left:24,right:12},children:[ae(),(0,Z.jsx)(v.t,{icon:"warning",title:n?"Invalid run filters":"Unexpected error",description:n?"The specified run filters are not valid. Please check the filters and try again.":"An unexpected error occurred. Check the console for details."})]})},children:function(e){var n=e.pipelineRunsOrError;return"Runs"!==n.__typename?(0,Z.jsx)(c.x,{padding:{vertical:64},children:(0,Z.jsx)(v.t,{icon:"error",title:"Query Error",description:n.message})}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(N.Y,{$top:0,children:(0,Z.jsx)(O.AL,{runs:n.results.slice(0,25),onAddTag:U,filter:s,actionBarComponents:ae(),belowActionBarComponents:oe.length?(0,Z.jsxs)(Z.Fragment,{children:[oe,(0,Z.jsx)(g.Z,{onClick:function(){L([])},children:"Clear all"})]}):null})}),n.results.length>0?(0,Z.jsx)("div",{style:{marginTop:"16px"},children:(0,Z.jsx)(C.pI,(0,o.Z)({},q))}):null]})}})})]})},Y=Q,B=(0,s.Ps)(q||(q=(0,t.Z)(["\n  query RunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),O.ZZ,b.B),D=function(){var e=(0,l.a)(G).data,n=j.useContext($.N).pageTitle,r=null===e||void 0===e?void 0:e.instance.daemonHealth.daemonStatus;return null===r||void 0===r||!r.required||null!==r&&void 0!==r&&r.healthy?null:(0,Z.jsx)(x.b,{intent:"warning",title:"The queued run coordinator is not healthy.",description:(0,Z.jsxs)("div",{children:["View ",(0,Z.jsx)(y.rU,{to:"/health",children:n})," for details."]})})},G=(0,s.Ps)(E||(E=(0,t.Z)(['\n  query QueueDaemonStatusQuery {\n    instance {\n      id\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "QUEUED_RUN_COORDINATOR") {\n          id\n          daemonType\n          healthy\n          required\n        }\n      }\n    }\n  }\n'])))},4774:function(e,n,r){"use strict";r.d(n,{l:function(){return a}});var t=r(68079),o=r(33028),i=r(96234),u=r(90239),s=r(78193),l=r(46860);function a(e){var n=s.useState((function(){return[]})),r=(0,i.Z)(n,2),a=r[0],c=r[1],d=(0,l.q)({queryKey:"cursor"}),f=(0,i.Z)(d,2),p=f[0],h=f[1],x=(0,o.Z)((0,o.Z)({},e.variables),{},{cursor:p,limit:e.pageSize+1}),v=(0,u.a)(e.query,{skip:e.skip,variables:x,notifyOnNetworkStatusChange:!0}),g=e.getResultArray(v.data),C={hasPrevCursor:!!p,hasNextCursor:g.length===e.pageSize+1,popCursor:function(){var e=(0,t.Z)(a);h(e.pop()),c(e)},advanceCursor:function(){p&&c((function(e){return[].concat((0,t.Z)(e),[p])}));var n=v.data&&e.nextCursorForResult(v.data);n&&h(n)},reset:function(){c([]),h(void 0)}};return{queryResult:v,paginationProps:C}}},13422:function(e,n,r){"use strict";r.d(n,{T:function(){return d},g:function(){return c}});var t=r(96234),o=r(47515),i=r(67445),u=r(62459),s=r(78193),l=r(47345),a=r(35936),c=function(e){var n=e.children,r=e.purpose,u=e.allowStaleData,c=void 0!==u&&u,f=e.renderError,p=e.queryResult,h=p.error,x=p.data,v=p.loading,g=s.useState(!0),C=(0,t.Z)(g,2),m=C[0],w=C[1],j=!x||v&&!c||0===Object.keys(x).length;if(s.useEffect((function(){var e;return j?e=setTimeout((function(){return w(!1)}),500):w(!0),function(){e&&clearTimeout(e)}}),[j]),h){if(f)return(0,a.jsx)(a.Fragment,{children:f(h)});var y=h.networkError;if(!y)return(0,a.jsx)(o.x,{padding:64,flex:{justifyContent:"center"},children:(0,a.jsx)(i.t,{icon:"error",title:"GraphQL Error - see console for details"})});if("statusCode"in y&&l.h.has(y.statusCode)){var b=y.statusCode;return(0,a.jsx)(o.x,{padding:64,flex:{justifyContent:"center"},children:(0,a.jsx)(i.t,{icon:"error",title:"Network error",description:(0,l.F)(b)})})}}return j?m?null:(0,a.jsx)(d,{purpose:r}):(0,a.jsx)(a.Fragment,{children:n(x)})},d=function(e){var n=e.purpose,r="page"===n;return(0,a.jsx)(o.x,{padding:64,flex:{grow:r?1:void 0,justifyContent:"center",alignItems:"center"},style:r?{height:"100%"}:void 0,children:(0,a.jsx)(u.$,{purpose:n})})};c.defaultProps={purpose:"page"}},42468:function(e,n,r){"use strict";r.d(n,{Y:function(){return i}});var t=r(60319),o=r(32667),i=t.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"sc-n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(e){var n=e.$top;return void 0===n?0:n}),o.w.White,o.w.KeylineGray)},16255:function(e,n,r){"use strict";r.d(n,{b:function(){return c}});var t=r(60319),o=r(78193),i=r(47515),u=r(32667),s=r(4537),l=r(22e3),a=r(35936),c=function(e){var n=e.intent,r=e.title,t=e.description,c=e.onClose,x=o.useMemo((function(){switch(n){case"warning":return{backgroundColor:u.w.Yellow50,borderColor:u.w.Yellow500,icon:"warning",iconColor:u.w.Yellow500,textColor:u.w.Yellow700};case"error":return{backgroundColor:u.w.Red50,borderColor:u.w.Red500,icon:"error",iconColor:u.w.Red500,textColor:u.w.Red700};case"success":return{backgroundColor:u.w.Green50,borderColor:u.w.Green500,icon:"done",iconColor:u.w.Green500,textColor:u.w.Green700};default:return{backgroundColor:u.w.Blue50,borderColor:u.w.Blue500,icon:"info",iconColor:u.w.Blue500,textColor:u.w.Blue700}}}),[n]),v=x.backgroundColor,g=x.borderColor,C=x.icon,m=x.iconColor,w=x.textColor;return(0,a.jsx)(f,{background:v,$borderColor:g,$textColor:w,padding:{horizontal:16,vertical:12},children:(0,a.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,a.jsxs)(s.Z,{direction:"row",spacing:12,alignItems:"flex-start",children:[e.icon||(0,a.jsx)(l.JO,{name:C,color:m}),(0,a.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,a.jsx)(p,{children:r}),t?(0,a.jsx)(h,{children:t}):null]})]}),c?(0,a.jsx)(d,{onClick:c,children:(0,a.jsx)(l.JO,{name:"close",color:w})}):null]})})};c.defaultProps={intent:"info"};var d=t.ZP.button.withConfig({displayName:"Alert__ButtonWrapper",componentId:"sc-8stlxo-0"})(["background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;flex-direction:column;height:fit-content;"]),f=(0,t.ZP)(i.x).withConfig({displayName:"Alert__AlertContainer",componentId:"sc-8stlxo-1"})(["box-shadow:inset 4px 0 ",";color:",";a:link,a:visited,a:hover,a:active{color:",";text-decoration:underline;}"],(function(e){return e.$borderColor}),(function(e){return e.$textColor}),(function(e){return e.$textColor})),p=t.ZP.div.withConfig({displayName:"Alert__AlertTitle",componentId:"sc-8stlxo-2"})(["font-weight:600;"]),h=t.ZP.div.withConfig({displayName:"Alert__AlertDescription",componentId:"sc-8stlxo-3"})(["font-weight:400;"])},86562:function(e,n,r){"use strict";r.d(n,{Rp:function(){return a},b$:function(){return s},pI:function(){return l}});var t=r(60319),o=(r(78193),r(45519)),i=r(22e3),u=r(35936),s=function(e){var n=e.hasPrevCursor,r=e.hasNextCursor,t=e.popCursor,s=e.advanceCursor;return(0,u.jsxs)(a,{children:[(0,u.jsx)(o.zx,{disabled:!n,icon:(0,u.jsx)(i.JO,{name:"arrow_back"}),onClick:t,children:"Previous"}),(0,u.jsx)(o.zx,{disabled:!r,rightIcon:(0,u.jsx)(i.JO,{name:"arrow_forward"}),onClick:s,children:"Next"})]})},l=function(e){var n=e.hasPrevCursor,r=e.hasNextCursor,t=e.popCursor,s=e.advanceCursor;return(0,u.jsxs)(a,{children:[(0,u.jsx)(o.zx,{icon:(0,u.jsx)(i.JO,{name:"arrow_back"}),disabled:!n,onClick:t,children:(0,u.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,u.jsx)(o.zx,{rightIcon:(0,u.jsx)(i.JO,{name:"arrow_forward"}),disabled:!r,onClick:s,children:(0,u.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},a=t.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])},26257:function(e){e.exports=function(e,n,r,t){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];n(t,u,r(u),e)}return t}},84152:function(e,n,r){var t=r(5038);e.exports=function(e,n,r,o){return t(e,(function(e,t,i){n(o,e,r(e),i)})),o}},93348:function(e,n,r){var t=r(26257),o=r(84152),i=r(39095),u=r(59557);e.exports=function(e,n){return function(r,s){var l=u(r)?t:o,a=n?n():{};return l(r,e,i(s,2),a)}}},569:function(e,n,r){var t=r(93348)((function(e,n,r){e[r?0:1].push(n)}),(function(){return[[],[]]}));e.exports=t}}]);
//# sourceMappingURL=124.7156f5d5.chunk.js.map