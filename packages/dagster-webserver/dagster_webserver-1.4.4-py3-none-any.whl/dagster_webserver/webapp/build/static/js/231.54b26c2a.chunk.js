"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[231],{97734:function(e,n,t){t.d(n,{a:function(){return c}});var i=t(96234),r=t(78193),o=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,o=r.checked,s=r.id;return o?t.add(s):t.delete(s),{lastCheckedId:s,checkedIds:t};case"toggle-slice":var c=n.payload,a=c.checked,l=c.id,u=c.allIds,d=e.lastCheckedId,p=d?u.indexOf(d):-1,h=u.indexOf(l);if(-1===p||-1===h)return e;var m=[p,h].sort(),x=(0,i.Z)(m,2),f=x[0],g=x[1];return u.slice(f,g+1).forEach((function(e){a?t.add(e):t.delete(e)})),{lastCheckedId:l,checkedIds:t};case"toggle-all":var j=n.payload,v=j.checked,y=j.allIds;return{lastCheckedId:null,checkedIds:v?new Set(y):new Set}}},s={checkedIds:new Set,lastCheckedId:null};function c(e){var n=r.useReducer(o,s),t=(0,i.Z)(n,2),c=t[0],a=t[1];return[c,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&c.lastCheckedId?a({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):a({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){a({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},76612:function(e,n,t){t.d(n,{_:function(){return c}});var i,r=t(71171),o=t(90239),s=t(31623),c=function(){var e=(0,o.a)(a).data;return!(null===e||void 0===e||!e.instance.hasInfo)},a=(0,s.Ps)(i||(i=(0,r.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      id\n      hasInfo\n    }\n  }\n"])))},74492:function(e,n,t){t.d(n,{m:function(){return g}});var i=t(96234),r=t(3077),o=t(47515),s=t(32667),c=t(67888),a=t(45519),l=t(95714),u=t(92555),d=t(22e3),p=t(78193),h=t(97412),m=t(20822),x=t(85514),f=t(35936),g=p.memo((function(e){var n=e.assetKeys,t=e.useTags,g=e.modalTitle,j=void 0===g?"Assets in Run":g,v=p.useState(!1),y=(0,i.Z)(v,2),w=y[0],C=y[1];if(!n||!n.length)return null;var Z=n.length,b=Z<=3?n:[],k=Z-b.length,R=k>0?(0,f.jsxs)(r.Vq,{title:j,onClose:function(){return C(!1)},style:{minWidth:"400px",maxWidth:"80vw",maxHeight:"70vh"},isOpen:w,children:[w?(0,f.jsx)(o.x,{padding:{bottom:12},border:{side:"bottom",color:s.w.KeylineGray,width:1},style:{overflowY:"auto"},background:s.w.White,children:(0,f.jsxs)(c.i,{children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:(0,f.jsx)("th",{children:"Asset key"})})}),(0,f.jsx)("tbody",{children:n.map((function(e,n){return(0,f.jsx)("tr",{children:(0,f.jsx)("td",{children:(0,f.jsx)(h.rU,{to:(0,x.p)(e),children:(0,m.ll)(e)},(0,m.Je)(e))})},"".concat((0,m.Je)(e),"-").concat(n))}))})]})}):null,(0,f.jsx)(r.cN,{children:(0,f.jsx)(a.zx,{intent:"primary",autoFocus:!0,onClick:function(){return C(!1)},children:"OK"})})]}):void 0;return t?(0,f.jsxs)(f.Fragment,{children:[b.map((function(e,n){return(0,f.jsx)(h.rU,{to:(0,x.p)(e),children:(0,f.jsx)(l.V,{intent:"none",interactive:!0,icon:"asset",children:(0,m.ll)(e)})},"".concat((0,m.Je)(e),"-").concat(n))})),k>0&&(0,f.jsx)(u.Z,{onClick:function(){return C(!0)},children:(0,f.jsxs)(l.V,{intent:"none",icon:"asset",children:[k," assets"]})}),R]}):(0,f.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,f.jsx)(d.JO,{color:s.w.Gray400,name:"asset",size:16,style:{marginTop:2}}),(0,f.jsxs)(o.x,{style:{flex:1},flex:{wrap:"wrap",display:"inline-flex"},children:[b.map((function(e,n){return(0,f.jsx)(h.rU,{to:(0,x.p)(e),style:{marginRight:4},children:"".concat((0,m.ll)(e)).concat(n<b.length-1?",":"")},(0,m.Je)(e))})),k>0&&b.length>0?(0,f.jsx)(u.Z,{onClick:function(){return C(!0)},children:" + ".concat(k," more")}):k>0?(0,f.jsx)(u.Z,{onClick:function(){return C(!0)},children:"".concat(k," assets")}):void 0]}),R]})}))},9089:function(e,n,t){t.d(n,{N:function(){return Z}});var i=t(32723),r=t(34795),o=t(96234),s=t(56666),c=t(33028),a=t(15541),l=t(80018),u=t(4537),d=t(45519),p=t(22e3),h=t(32667),m=t(83473),x=t(3077),f=t(78193),g=t(49675),j=t(89622),v=t(35936),y=function(e){if("DeletePipelineRunSuccess"===(null===e||void 0===e?void 0:e.deletePipelineRun.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.deletePipelineRun},w=function(e){return{step:"initial",frozenRuns:e,deletion:{completed:0,errors:{}}}},C=function(e,n){switch(n.type){case"reset":return w(n.frozenRuns);case"start":return(0,c.Z)((0,c.Z)({},e),{},{step:"deleting"});case"deletion-success":var t=e.deletion;return(0,c.Z)((0,c.Z)({},e),{},{step:"deleting",deletion:(0,c.Z)((0,c.Z)({},t),{},{completed:t.completed+1})});case"deletion-error":var i=e.deletion;return(0,c.Z)((0,c.Z)({},e),{},{step:"deleting",deletion:(0,c.Z)((0,c.Z)({},i),{},{completed:i.completed+1,errors:(0,c.Z)((0,c.Z)({},i.errors),{},(0,s.Z)({},n.id,n.error))})});case"complete":return(0,c.Z)((0,c.Z)({},e),{},{step:"completed"})}},Z=function(e){var n=e.isOpen,t=e.onClose,s=e.onComplete,c=e.onTerminateInstead,Z=e.selectedRuns,b=f.useRef(Z),k=f.useReducer(C,b.current,w),R=(0,o.Z)(k,2),E=R[0],N=R[1],T=Object.keys(E.frozenRuns),I=T.length,O=T.filter((function(e){return E.frozenRuns[e]})).length;f.useEffect((function(){n&&N({type:"reset",frozenRuns:b.current})}),[n]),f.useEffect((function(){n||(b.current=Z)}),[n,Z]);var A=(0,a.D)(j.be),S=(0,o.Z)(A,1)[0],_=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,o,c,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N({type:"start"}),n=Object.keys(E.frozenRuns),t=0,r=n;case 3:if(!(t<r.length)){e.next=13;break}return o=r[t],e.next=7,S({variables:{runId:o}});case 7:c=e.sent,"DeletePipelineRunSuccess"===(null===(a=c.data)||void 0===a?void 0:a.deletePipelineRun.__typename)?N({type:"deletion-success"}):N({type:"deletion-error",id:o,error:y(a)});case 10:t++,e.next=3;break;case 13:N({type:"complete"}),s();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P="deleting"!==E.step;return(0,v.jsxs)(x.Vq,{isOpen:n,title:"Delete runs",canEscapeKeyClose:P,canOutsideClickClose:P,onClose:t,children:[(0,v.jsx)(x.a7,{children:(0,v.jsxs)(u.Z,{direction:"column",spacing:24,children:[function(){switch(E.step){case"initial":return(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,v.jsx)("div",{children:"".concat(I," ").concat(1===I?"run":"runs"," will be deleted.")}),(0,v.jsx)("div",{children:"Deleting runs will not prevent them from continuing to execute, and may result in unexpected behavior."}),O?(0,v.jsx)("div",{children:O>1?(0,v.jsxs)(v.Fragment,{children:["".concat(O," of these runs can be terminated. "),(0,v.jsx)("strong",{children:"Please consider terminating these runs instead of deleting them."})]}):(0,v.jsxs)(v.Fragment,{children:["1 run can be terminated instead. ",(0,v.jsx)("strong",{children:"Please consider terminating this run instead of deleting it."})]})}):null,(0,v.jsx)("div",{children:"Do you wish to continue with deletion?"})]});case"deleting":case"completed":var e=I>0?E.deletion.completed/I:1;return(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,v.jsx)("div",{children:"Deleting\u2026"}),(0,v.jsx)(l.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"deleting"===E.step?(0,v.jsx)(g.c,{message:"Deletion in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===E.step)return null;if("deleting"===E.step)return(0,v.jsx)("div",{children:"Please do not close the window or navigate away during deletion."});var e=E.deletion.errors,n=Object.keys(e).length,t=E.deletion.completed-n;return(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[t?(0,v.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,v.jsx)(p.JO,{name:"check_circle",color:h.w.Green500}),(0,v.jsx)("div",{children:"Successfully deleted ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,v.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,v.jsx)(p.JO,{name:"warning",color:h.w.Yellow500}),(0,v.jsx)("div",{children:"Could not delete ".concat(n," ").concat(1===n?"run":"runs",".")})]}),(0,v.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,v.jsx)("li",{children:(0,v.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,v.jsx)(m.fv,{children:n.slice(0,8)}),e[n]?(0,v.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,v.jsx)(x.cN,{children:function(){switch(E.step){case"initial":return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,v.jsx)(d.zx,{intent:"danger",onClick:_,children:"Yes, delete ".concat("".concat(I," ").concat(1===I?"run":"runs"))}),O?(0,v.jsx)(d.zx,{intent:"primary",onClick:c,children:"Terminate ".concat("".concat(O," ").concat(1===O?"run":"runs")," instead")}):null]});case"deleting":return(0,v.jsx)(d.zx,{intent:"danger",disabled:!0,children:"Deleting\u2026"});case"completed":return(0,v.jsx)(d.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},49675:function(e,n,t){t.d(n,{c:function(){return s}});var i=t(78193),r=t(50032),o=t(35936),s=function(e){return i.useEffect((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[]),(0,o.jsx)(r.NL,{message:e.message})}},25383:function(e,n,t){t.d(n,{F:function(){return m}});var i,r=t(71171),o=t(60319),s=t(90239),c=t(31623),a=t(47515),l=t(62459),u=(t(78193),t(97412)),d=t(62638),p=t(92014),h=t(35936),m=function(e){var n=e.runId,t=(0,s.a)(x,{variables:{runId:n}});if(t.loading||!t.data)return(0,h.jsx)(f,{children:(0,h.jsx)(a.x,{padding:24,flex:{justifyContent:"center"},children:(0,h.jsx)(l.$,{purpose:"section"})})});var i=t.data.pipelineRunOrError;if("Run"!==i.__typename)return(0,h.jsx)(p.T9,{error:i});if("RunStatsSnapshot"!==i.stats.__typename)return(0,h.jsx)(p.T9,{error:i.stats});var r="/runs/".concat(n);return(0,h.jsxs)(f,{children:[(0,h.jsx)(u.rU,{to:"".concat(r,"?logs=type:STEP_SUCCESS"),children:"".concat(i.stats.stepsSucceeded," steps succeeded")}),(0,h.jsx)(u.rU,{to:"".concat(r,"?logs=type:STEP_FAILURE"),children:"".concat(i.stats.stepsFailed," steps failed")}),(0,h.jsx)(u.rU,{to:"".concat(r,"?logs=type:ASSET_MATERIALIZATION"),children:"".concat(i.stats.materializations," materializations")}),(0,h.jsx)(u.rU,{to:"".concat(r,"?logs=type:STEP_EXPECTATION_RESULT"),children:"".concat(i.stats.expectations," expectations passed")})]})},x=(0,c.Ps)(i||(i=(0,r.Z)(["\n  query RunStatsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on RunNotFoundError {\n        message\n      }\n      ... on Run {\n        id\n        pipelineName\n        stats {\n          ... on RunStatsSnapshot {\n            id\n            stepsSucceeded\n            stepsFailed\n            expectations\n            materializations\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),d.B),f=o.ZP.div.withConfig({displayName:"RunStats__RunStatsDetailsContainer",componentId:"sc-7pgndz-0"})(["min-width:200px;padding:12px;color:white;font-size:12px;& > a{display:block;}"])},15734:function(e,n,t){t.d(n,{K9:function(){return j},O_:function(){return y},hk:function(){return g}});var i,r,o=t(71171),s=t(33028),c=t(59740),a=t(60319),l=t(73070),u=t(62459),d=t(78193),p=t(25383),h=t(25465),m=t(20967),x=t(35936),f=["runId"],g=d.memo((function(e){var n=e.runId,t=(0,c.Z)(e,f);return(0,x.jsx)(l.J,{position:"bottom",interactionKind:"hover",content:(0,x.jsx)(p.F,{runId:n}),hoverOpenDelay:100,children:(0,x.jsx)(j,(0,s.Z)({},t))})})),j=d.memo((function(e){var n=e.status,t=e.size;return"STARTED"===n||"CANCELING"===n?(0,x.jsx)(u.$,{purpose:"caption-text"}):"SCHEDULED"===n?(0,x.jsx)(y,{status:n,size:t||12}):(0,x.jsx)(y,{status:n,size:t||12,pulse:m.Ys.has(n)||m.sy.has(n)})})),v=(0,a.F4)(i||(i=(0,o.Z)(["\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n"]))),y=a.ZP.div.withConfig({displayName:"RunStatusDots__RunStatusDot",componentId:"sc-m2w7pp-0"})(["width:","px;height:","px;border-radius:","px;transition:filter 200ms linear;"," background:",";&:hover{animation:none;filter:brightness(0.7);}"],(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.pulse?(0,a.iv)(r||(r=(0,o.Z)(["\n          animation: "," 2s infinite;\n        "])),v):null}),(function(e){var n=e.status;return h.YM[n]}))},25465:function(e,n,t){t.d(n,{KG:function(){return g},M9:function(){return v},YM:function(){return f},Zr:function(){return j},fi:function(){return x}});var i=t(32667),r=t(95714),o=t(47515),s=t(83473),c=t(73070),a=(t(78193),t(88949)),l=t(23555),u=t(25383),d=t(15734),p=t(35936),h=function(e){switch(e){case l.VOA.QUEUED:case l.VOA.NOT_STARTED:case l.VOA.CANCELED:case l.VOA.MANAGED:return"none";case l.VOA.SUCCESS:return"success";case l.VOA.FAILURE:return"danger";case l.VOA.STARTING:case l.VOA.STARTED:case l.VOA.CANCELING:return"primary";default:return(0,a.UT)(e)}},m=function(e){switch(e){case l.VOA.QUEUED:return"Queued";case l.VOA.SUCCESS:return"Success";case l.VOA.STARTING:return"Starting";case l.VOA.NOT_STARTED:return"Not started";case l.VOA.FAILURE:return"Failure";case l.VOA.STARTED:return"Started";case l.VOA.MANAGED:return"Managed";case l.VOA.CANCELING:return"Canceling";case l.VOA.CANCELED:return"Canceled";default:return(0,a.UT)(e)}},x=function(e){switch(e){case l.VOA.CANCELED:return"Canceled";case l.VOA.CANCELING:return"Canceling";case l.VOA.FAILURE:return"Failed";case l.VOA.STARTING:case l.VOA.STARTED:return"In progress";case l.VOA.QUEUED:return"Queued";case l.VOA.SUCCESS:return"Completed";case l.VOA.MANAGED:case l.VOA.NOT_STARTED:return"Missing";default:return(0,a.UT)(e)}},f={QUEUED:i.w.Blue200,NOT_STARTED:i.w.Gray600,MANAGED:i.w.Gray400,STARTED:i.w.Blue500,STARTING:i.w.Blue500,CANCELING:i.w.Blue500,SUCCESS:i.w.Green500,FAILURE:i.w.Red500,CANCELED:i.w.Gray400,SCHEDULED:i.w.Blue200},g=function(e){var n=e.status;return(0,p.jsx)(r.V,{intent:h(n),children:(0,p.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,p.jsx)(d.K9,{status:n,size:10}),(0,p.jsx)("div",{children:m(n)})]})})},j=function(e){var n=e.runId,t=e.status;return(0,p.jsx)(r.V,{intent:h(t),children:(0,p.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,p.jsx)(d.K9,{status:t,size:10}),(0,p.jsx)(s.aU,{children:n.slice(0,8)})]})})},v=function(e){var n=e.runId,t=e.status;return(0,p.jsx)(c.J,{position:"bottom-left",interactionKind:"hover",content:(0,p.jsx)(u.F,{runId:n}),hoverOpenDelay:100,usePortal:!0,children:(0,p.jsx)(g,{status:t})})}},8709:function(e,n,t){t.d(n,{ZZ:function(){return Ee},AL:function(){return ke}});var i,r,o,s=t(71171),c=t(96234),a=t(60319),l=t(31623),u=t(47515),d=t(67445),p=t(22e3),h=t(67888),m=t(17914),x=t(83473),f=t(95714),g=t(32667),j=t(72835),v=t(92555),y=t(3077),w=t(45519),C=t(78193),Z=t(97412),b=t(30382),k=t(20822),R=t(97734),E=t(24265),N=t(85279),T=t(80500),I=t(63167),O=t(74492),A=t(56666),S=t(32723),_=t(34795),P=t(33028),z=t(15541),D=t(44719),F=t(73070),L=t(85357),V=t(44229),U=t(9886),M=t(50032),G=t(33418),J=t(82182),K=t(35740),H=t(22260),B=t(23555),q=t(8686),Y=t(48341),Q=t(79986),$=t(92761),W=t(9089),X=t(80018),ee=t(4537),ne=t(49675),te=t(89622),ie=t(35936),re=function(e){if("LaunchRunSuccess"===(null===e||void 0===e?void 0:e.launchPipelineReexecution.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.launchPipelineReexecution},oe=function(e){if(!e)return"Unknown error";switch(e.__typename){case"ConflictingExecutionParamsError":return"Conflicting execution parameters";case"InvalidOutputError":return"Invalid output";case"InvalidStepError":return"Invalid step";case"NoModeProvidedError":return"No mode provided";case"PipelineNotFoundError":return"Job not found in workspace";case"PresetNotFoundError":return"Preset not found";case"PythonError":return e.message;case"RunConfigValidationInvalid":return"Run config invalid";case"RunConflict":return"Run conflict";case"UnauthorizedError":return"Re-execution not authorized";case"InvalidSubsetError":return"Invalid op subset: "+e.message;default:return"Unknown error"}},se=function(e){return{frozenRuns:e,step:"initial",reexecution:{completed:0,errors:{}}}},ce=function(e,n){switch(n.type){case"reset":return se(n.frozenRuns);case"start":return(0,P.Z)((0,P.Z)({},e),{},{step:"reexecuting"});case"reexecution-success":var t=e.reexecution;return(0,P.Z)((0,P.Z)({},e),{},{step:"reexecuting",reexecution:(0,P.Z)((0,P.Z)({},t),{},{completed:t.completed+1})});case"reexecution-error":var i=e.reexecution;return(0,P.Z)((0,P.Z)({},e),{},{step:"reexecuting",reexecution:(0,P.Z)((0,P.Z)({},i),{},{completed:i.completed+1,errors:(0,P.Z)((0,P.Z)({},i.errors),{},(0,A.Z)({},n.id,n.error))})});case"complete":return(0,P.Z)((0,P.Z)({},e),{},{step:"completed"})}},ae=function(e){var n=e.isOpen,t=e.onClose,i=e.onComplete,r=e.reexecutionStrategy,o=e.selectedRuns,s=C.useRef(o),a=C.useReducer(ce,s.current,se),l=(0,c.Z)(a,2),u=l[0],d=l[1],h=Object.keys(u.frozenRuns).length;C.useEffect((function(){n&&d({type:"reset",frozenRuns:s.current})}),[n]),C.useEffect((function(){n||(s.current=o)}),[n,o]);var m=(0,z.D)(te.kO),f=(0,c.Z)(m,1)[0],j=function(){var e=(0,_.Z)((0,S.Z)().mark((function e(){var n,t,o,s,c,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({type:"start"}),n=Object.keys(u.frozenRuns),t=0,o=n;case 3:if(!(t<o.length)){e.next=13;break}return s=o[t],e.next=7,f({variables:{reexecutionParams:{parentRunId:s,strategy:r}}});case 7:c=e.sent,"LaunchRunSuccess"===(null===(a=c.data)||void 0===a?void 0:a.launchPipelineReexecution.__typename)?d({type:"reexecution-success"}):d({type:"reexecution-error",id:s,error:re(a)});case 10:t++,e.next=3;break;case 13:d({type:"complete"}),i(u.reexecution);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v="reexecuting"!==u.step;return(0,ie.jsxs)(y.Vq,{isOpen:n,title:r===B.hmq.ALL_STEPS?"Re-execute runs":"Re-execute runs from failure",canEscapeKeyClose:v,canOutsideClickClose:v,onClose:t,children:[(0,ie.jsx)(y.a7,{children:(0,ie.jsxs)(ee.Z,{direction:"column",spacing:24,children:[function(){switch(u.step){case"initial":if(!h)return(0,ie.jsxs)(ee.Z,{direction:"column",spacing:16,children:[(0,ie.jsx)("div",{children:"No runs selected for re-execution."}),(0,ie.jsx)("div",{children:"The runs you selected may already have finished executing."})]});return(0,ie.jsx)(ee.Z,{direction:"column",spacing:16,children:(0,ie.jsx)("div",{children:r===B.hmq.ALL_STEPS?(0,ie.jsxs)("span",{children:["".concat(h," ").concat(1===h?"run":"runs"," will be re-executed "),(0,ie.jsx)("strong",{children:"with all steps"}),". Do you wish to continue?"]}):(0,ie.jsxs)("span",{children:["".concat(h," ").concat(1===h?"run":"runs"," will be re-executed "),(0,ie.jsx)("strong",{children:"from failure"}),". Do you wish to continue?"]})})});case"reexecuting":case"completed":var e=h>0?u.reexecution.completed/h:1;return(0,ie.jsxs)(ee.Z,{direction:"column",spacing:8,children:[(0,ie.jsx)(X.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"reexecuting"===u.step?(0,ie.jsx)(ne.c,{message:"Re-execution in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===u.step)return null;if("reexecuting"===u.step)return(0,ie.jsx)("div",{children:"Please do not close the window or navigate away during re-execution."});var e=u.reexecution.errors,n=Object.keys(e).length,t=u.reexecution.completed-n;return(0,ie.jsxs)(ee.Z,{direction:"column",spacing:8,children:[t?(0,ie.jsxs)(ee.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,ie.jsx)(p.JO,{name:"check_circle",color:g.w.Green500}),(0,ie.jsx)("div",{children:"Successfully requested re-execution for ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,ie.jsxs)(ee.Z,{direction:"column",spacing:8,children:[(0,ie.jsxs)(ee.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,ie.jsx)(p.JO,{name:"warning",color:g.w.Yellow500}),(0,ie.jsx)("div",{children:"Could not request re-execution for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,ie.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,ie.jsx)("li",{children:(0,ie.jsxs)(ee.Z,{direction:"row",spacing:8,alignItems:"baseline",children:[(0,ie.jsx)(x.fv,{children:n.slice(0,8)}),e[n]?(0,ie.jsx)("div",{children:oe(e[n])}):null]})},n)}))})]}):null]})}()]})}),(0,ie.jsx)(y.cN,{children:function(){switch(u.step){case"initial":return h?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(w.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,ie.jsx)(w.zx,{intent:"primary",onClick:j,children:"Re-execute ".concat("".concat(h," ").concat(1===h?"run":"runs"))})]}):(0,ie.jsx)(w.zx,{intent:"none",onClick:t,children:"OK"});case"reexecuting":return(0,ie.jsx)(w.zx,{intent:"primary",disabled:!0,children:"Re-executing ".concat("".concat(h," ").concat(1===h?"run":"runs","..."))});case"completed":return(0,ie.jsx)(w.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},le=t(20967),ue=t(21687),de=t(69654),pe=t(37870),he=C.memo((function(e){var n,t=e.run,i=e.onAddTag,r=e.additionalActionsForRun,o=C.useContext(te.Lw).refetch,s=C.useState("none"),a=(0,c.Z)(s,2),l=a[0],d=a[1],h=C.useContext(G.I).rootServerURI,m=(0,M.k6)(),x=(0,H.m)(),f=(0,z.D)(te.kO,{onCompleted:o}),g=(0,c.Z)(f,1)[0],j=(0,D.t)(fe,{variables:{runId:t.id}}),v=(0,c.Z)(j,2),Z=v[0],b=v[1],k=b.called,R=b.loading,E=b.data,O=function(){d("none")},B=function(){o()},X="Run"===(null===E||void 0===E||null===(n=E.pipelineRunOrError)||void 0===n?void 0:n.__typename)?null===E||void 0===E?void 0:E.pipelineRunOrError:null,ee=null===X||void 0===X?void 0:X.runConfigYaml,ne=(0,T.n)(X),re=(0,pe.J)((0,P.Z)((0,P.Z)({},t),{},{parentPipelineSnapshotId:null===X||void 0===X?void 0:X.parentPipelineSnapshotId})),oe=le.cv.has(t.status),se=!(!ne||!(0,$.E8)(null===ne||void 0===ne?void 0:ne.match,t.pipelineName)),ce=!!k&&!R,ae=C.useMemo((function(){return t.hasReExecutePermission?re?{disabled:re.disabled,message:re.tooltip}:ce?{disabled:!1}:{disabled:!0}:{disabled:!0,message:K.Qr}}),[t.hasReExecutePermission,re,ce]);return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(w.zH,{children:[(0,ie.jsx)(N.A,{to:"/runs/".concat(t.id),children:"View run"}),(0,ie.jsx)(F.J,{content:(0,ie.jsxs)(L.v2,{children:[(0,ie.jsx)(L.sN,{tagName:"button",text:R?"Loading configuration...":"View configuration...",disabled:!ee,icon:"open_in_new",onClick:function(){return d("config")}}),(0,ie.jsx)(L.sN,{tagName:"button",text:(0,ie.jsxs)("div",{style:{display:"contents"},children:["View all tags",(0,ie.jsx)(u.x,{flex:{justifyContent:"center",alignItems:"center",display:"inline-flex"},padding:{horizontal:8},children:(0,ie.jsx)(ge,{children:"t"})})]}),icon:"tag",onClick:function(){return d("tags")}}),t.pipelineSnapshotId?(0,ie.jsx)(je,{to:(0,Y.sS)(t.pipelineName,t.pipelineSnapshotId),children:(0,ie.jsx)(L.sN,{tagName:"button",icon:"job",text:"View snapshot",onClick:function(){return d("tags")}})}):null,(0,ie.jsx)(L.R,{}),(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(V.u,{content:t.hasReExecutePermission?xe:q.U,position:"left",disabled:ce&&t.hasReExecutePermission,targetTagName:"div",children:(0,ie.jsx)(Q.U,{text:"Open in Launchpad...",disabled:!ce||!t.hasReExecutePermission,icon:"edit",to:(0,I.$O)({id:t.id,pipelineName:t.pipelineName,repositoryName:null===ne||void 0===ne?void 0:ne.match.repository.name,repositoryLocationName:null===ne||void 0===ne?void 0:ne.match.repositoryLocation.name,isJob:se})})}),(0,ie.jsx)(V.u,{content:ae.message||"",position:"left",canShow:ae.disabled,targetTagName:"div",children:(0,ie.jsx)(L.sN,{tagName:"button",text:"Re-execute",disabled:ae.disabled,icon:"refresh",onClick:(0,_.Z)((0,S.Z)().mark((function e(){var n,i;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ne||!ee){e.next=5;break}return e.next=3,g({variables:(0,te.kz)({run:(0,P.Z)((0,P.Z)({},t),{},{runConfigYaml:ee}),style:{type:"all"},repositoryLocationName:ne.match.repositoryLocation.name,repositoryName:ne.match.repository.name})});case 3:i=e.sent,(0,te.lF)(t.pipelineName,null===(n=i.data)||void 0===n?void 0:n.launchPipelineReexecution,m,{behavior:"open"});case 5:case"end":return e.stop()}}),e)})))})}),oe||!t.hasTerminatePermission?null:(0,ie.jsx)(L.sN,{tagName:"button",icon:"cancel",text:"Terminate",onClick:function(){return d("terminate")}}),null===r||void 0===r?void 0:r(t),(0,ie.jsx)(L.R,{})]}),(0,ie.jsx)(L.AL,{text:"Download debug file",icon:"download_for_offline",download:!0,href:"".concat(h,"/download_debug/").concat(t.id)}),t.hasDeletePermission?(0,ie.jsx)(L.sN,{tagName:"button",icon:"delete",text:"Delete",intent:"danger",onClick:function(){return d("delete")}}):null]}),position:"bottom-right",onOpening:function(){k||Z()},children:(0,ie.jsx)(w.zx,{icon:(0,ie.jsx)(p.JO,{name:"expand_more"})})})]}),t.hasTerminatePermission?(0,ie.jsx)(de.A,{isOpen:"terminate"===l,onClose:O,onComplete:B,selectedRuns:(0,A.Z)({},t.id,t.canTerminate)}):null,t.hasDeletePermission?(0,ie.jsx)(W.N,{isOpen:"delete"===l,onClose:O,onComplete:B,onTerminateInstead:function(){return d("terminate")},selectedRuns:(0,A.Z)({},t.id,t.canTerminate)}):null,(0,ie.jsxs)(y.Vq,{isOpen:"tags"===l,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:O,children:[(0,ie.jsx)(y.a7,{children:(0,ie.jsx)(ue.Q,{tags:t.tags,mode:se?"default"!==t.mode?t.mode:null:t.mode,onAddTag:i})}),(0,ie.jsx)(y.cN,{topBorder:!0,children:(0,ie.jsx)(w.zx,{intent:"primary",onClick:O,children:"Close"})})]}),(0,ie.jsxs)(y.Vq,{isOpen:"config"===l,title:"Config",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:O,children:[(0,ie.jsx)(U.NU,{value:ee||"",options:{lineNumbers:!0,mode:"yaml"}}),(0,ie.jsxs)(y.cN,{topBorder:!0,children:[(0,ie.jsx)(w.zx,{intent:"none",onClick:(0,_.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(ee||""),e.next=3,(0,J.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"});case 3:case"end":return e.stop()}}),e)}))),children:"Copy config"}),(0,ie.jsx)(w.zx,{intent:"primary",onClick:O,children:"OK"})]})]})]})})),me=C.memo((function(e){var n=e.selected,t=e.clearSelection,i=C.useContext(te.Lw).refetch,r=C.useState("none"),o=(0,c.Z)(r,2),s=o[0],a=o[1],l=C.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),u=C.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),d=C.useMemo((function(){return n.some((function(e){return e.hasReExecutePermission}))}),[n]),h=!l&&!u,m=n.filter((function(e){return!le.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasTerminatePermission})),x=m.map((function(e){return e.id})),f=m.reduce((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},(0,A.Z)({},n.id,n.canTerminate))}),{}),g=n.map((function(e){return e.id})),j=n.reduce((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},(0,A.Z)({},n.id,n.canTerminate))}),{}),v=n.filter((function(e){return le.hd.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),y=v.reduce((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},(0,A.Z)({},n.id,n.id))}),{}),Z=n.filter((function(e){return le.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),b=Z.reduce((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},(0,A.Z)({},n.id,n.id))}),{}),k=function(){a("none")},R=function(){t(),i()};return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(F.J,{disabled:h||0===n.length,content:(0,ie.jsxs)(L.v2,{children:[l?(0,ie.jsx)(L.sN,{icon:"cancel",text:"Terminate ".concat(x.length," ").concat(1===x.length?"run":"runs"),disabled:0===x.length,onClick:function(){a("terminate")}}):null,u?(0,ie.jsx)(L.sN,{icon:"delete",intent:"danger",text:"Delete ".concat(g.length," ").concat(1===g.length?"run":"runs"),disabled:0===g.length,onClick:function(){a("delete")}}):null,d?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(L.sN,{icon:"refresh",text:"Re-execute ".concat(Z.length," ").concat(1===Z.length?"run":"runs"),disabled:0===Z.length,onClick:function(){a("reexecute")}}),(0,ie.jsx)(L.sN,{icon:"refresh",text:"Re-execute ".concat(v.length," ").concat(1===v.length?"run":"runs"," from failure"),disabled:0===v.length,onClick:function(){a("reexecute-from-failure")}})]}):null]}),position:"bottom-right",children:(0,ie.jsx)(w.zx,{disabled:h||0===n.length,rightIcon:(0,ie.jsx)(p.JO,{name:"expand_more"}),intent:"primary",children:"Actions"})}),(0,ie.jsx)(de.A,{isOpen:"terminate"===s,onClose:k,onComplete:R,selectedRuns:f}),(0,ie.jsx)(W.N,{isOpen:"delete"===s,onClose:k,onComplete:R,onTerminateInstead:function(){return a("terminate")},selectedRuns:j}),(0,ie.jsx)(ae,{isOpen:"reexecute-from-failure"===s,onClose:k,onComplete:R,selectedRuns:y,reexecutionStrategy:B.hmq.FROM_FAILURE}),(0,ie.jsx)(ae,{isOpen:"reexecute"===s,onClose:k,onComplete:R,selectedRuns:b,reexecutionStrategy:B.hmq.ALL_STEPS})]})})),xe="Launchpad is unavailable because the pipeline is not present in the current repository.",fe=(0,l.Ps)(i||(i=(0,s.Z)(["\n  query PipelineEnvironmentQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        pipelineName\n        parentPipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n  }\n"]))),ge=a.ZP.div.withConfig({displayName:"RunActionsMenu__SlashShortcut",componentId:"sc-1et2hvz-0"})(["border-radius:4px;padding:0px 6px;background:",";color:",";"],g.w.Gray100,g.w.Gray500),je=(0,a.ZP)(Z.rU).withConfig({displayName:"RunActionsMenu__LinkNoUnderline",componentId:"sc-1et2hvz-1"})(["text-decoration:none !important;"]),ve=t(1360),ye=t(68506),we=C.memo((function(e){var n=e.tags;return(0,ie.jsx)(u.x,{flex:{direction:"column",alignItems:"flex-start"},children:(0,ie.jsx)(Ce,{tags:n})})})),Ce=function(e){var n=e.tags,t=(0,ve.C)().UserDisplay,i=n.find((function(e){return e.key===ye.H.User}));if(i)return(0,ie.jsx)(t,{email:i.value});var r=n.find((function(e){return e.key===ye.H.ScheduleName}));if(r)return(0,ie.jsx)(f.V,{icon:"schedule",children:r.value});var o=n.find((function(e){return e.key===ye.H.SensorName}));return o?(0,ie.jsx)(f.V,{icon:"sensors",children:o.value}):n.some((function(e){return e.key===ye.H.Automaterialize||e.key===ye.H.CreatedBy&&"auto_materialize"===e.value}))?(0,ie.jsx)(f.V,{icon:"auto_materialize_policy",children:"Auto-materialize policy"}):n.some((function(e){return e.key===ye.H.AutoObserve}))?(0,ie.jsx)(f.V,{icon:"auto_observe",children:"Auto-observation"}):(0,ie.jsx)(f.V,{icon:"account_circle",children:"Manually launched"})},Ze=t(25465),be=t(95904),ke=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,r=e.highlightedIds,o=e.actionBarComponents,s=e.belowActionBarComponents,a=e.hideCreatedBy,l=e.emptyState,x=n.map((function(e){return e.id})),f=(0,R.a)(x),g=(0,c.Z)(f,2),j=g[0].checkedIds,v=g[1],y=v.onToggleFactory,w=v.onToggleAll,Z=C.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]);var b=n.filter((function(e){return j.has(e.id)}));return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(Ie,{top:(0,ie.jsxs)(u.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center",grow:1},children:[o,(0,ie.jsx)(me,{selected:b,clearSelection:function(){return w(!1)}})]}),bottom:s}),function(){if(0===n.length){var o=!!Object.keys(t||{}).length;return l?(0,ie.jsx)(ie.Fragment,{children:l()}):(0,ie.jsx)("div",{children:(0,ie.jsx)(u.x,{margin:{vertical:32},children:o?(0,ie.jsx)(d.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,ie.jsx)(d.t,{icon:"run",title:"No runs found",description:(0,ie.jsxs)(u.x,{flex:{direction:"column",gap:12},children:[(0,ie.jsx)("div",{children:"You have not launched any runs yet."}),(0,ie.jsxs)(u.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,ie.jsx)(N.A,{icon:(0,ie.jsx)(p.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,ie.jsx)("span",{children:"or"}),(0,ie.jsx)(N.A,{icon:(0,ie.jsx)(p.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})})}return(0,ie.jsxs)(h.i,{children:[(0,ie.jsx)("thead",{children:(0,ie.jsxs)("tr",{children:[Z?(0,ie.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:(0,ie.jsx)(m.X,{indeterminate:j.size>0&&j.size!==n.length,checked:j.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&w(e.target.checked)}})}):null,(0,ie.jsx)("th",{style:{width:90},children:"Run ID"}),(0,ie.jsx)("th",{style:{width:180},children:"Created date"}),(0,ie.jsx)("th",{children:"Target"}),a?null:(0,ie.jsx)("th",{style:{width:160},children:"Launched by"}),(0,ie.jsx)("th",{style:{width:120},children:"Status"}),(0,ie.jsx)("th",{style:{width:190},children:"Duration"}),e.additionalColumnHeaders,(0,ie.jsx)("th",{style:{width:52}})]})}),(0,ie.jsx)("tbody",{children:n.map((function(n){var t;return(0,ie.jsx)(Ne,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:j.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),additionalActionsForRun:e.additionalActionsForRun,onToggleChecked:y(n.id),isHighlighted:r&&r.includes(n.id),hideCreatedBy:a},n.id)}))})]})}()]})},Re=(0,l.Ps)(r||(r=(0,s.Z)(["\n  fragment RunTagsFragment on PipelineTag {\n    key\n    value\n  }\n"]))),Ee=(0,l.Ps)(o||(o=(0,s.Z)(["\n  fragment RunTableRunFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      ...RunTagsFragment\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n"])),te.$X,Re),Ne=function(e){var n,t=e.run,i=e.canTerminateOrDelete,r=e.onAddTag,o=e.checked,s=e.onToggleChecked,a=e.additionalColumns,l=e.additionalActionsForRun,d=e.isHighlighted,h=e.hideCreatedBy,R=t.pipelineName,N=(0,T.r)(t),A=C.useMemo((function(){if(N){var e=N.match.repository.pipelines.find((function(e){return e.name===R}));return!(null===e||void 0===e||!e.isJob)}return!1}),[N,R]),S=t.tags.some((function(e){return e.key===ye.H.ParentRunId})),_=t.tags.find((function(e){return e.key===ye.H.Backfill})),P=t.tags.find((function(e){return e.key===ye.H.Partition})),z=t.tags.find((function(e){return e.key===ye.H.PartitionSet})),D=t.tags.find((function(e){return e.key===ye.H.AssetPartitionRangeStart})),F=t.tags.find((function(e){return e.key===ye.H.AssetPartitionRangeEnd})),L=C.useState(!1),V=(0,c.Z)(L,2),U=V[0],M=V[1],G=C.useState(!1),J=(0,c.Z)(G,2),K=J[0],H=J[1],B=C.useMemo((function(){var e=[];if(_){var n,i=null!==(n=t.assetSelection)&&void 0!==n&&n.length?"/overview/backfills/".concat(_.value):(0,be.it)([{token:"tag",value:"".concat(ye.H.Backfill,"=").concat(_.value)}]);e.push({key:_.key,value:_.value,link:i})}return P?e.push(P):z?e.push(z):void 0!==D&&void 0!==F&&e.push(D,F),e}),[null===(n=t.assetSelection)||void 0===n?void 0:n.length,_,P,F,D,z]);return(0,ie.jsxs)(Te,{highlighted:!!d,onMouseEnter:function(){H(!0)},onMouseLeave:function(){H(!1)},children:[i?(0,ie.jsx)("td",{children:s?(0,ie.jsx)(m.X,{checked:!!o,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");s&&s({checked:n,shiftKey:t})}}}):null}):null,(0,ie.jsx)("td",{children:(0,ie.jsx)(Z.rU,{to:"/runs/".concat(t.id),children:(0,ie.jsx)(x.fv,{children:(0,te.EI)(t)})})}),(0,ie.jsx)("td",{children:(0,ie.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,ie.jsx)(te.Zr,{run:t}),S?(0,ie.jsx)("div",{children:(0,ie.jsx)(f.V,{icon:"cached",children:"Re-execution"})}):null]})}),(0,ie.jsxs)("td",{style:{position:"relative"},children:[(0,ie.jsxs)(u.x,{flex:{direction:"column",gap:5},children:[(0,k.pv)(t.pipelineName)?(0,ie.jsx)(O.m,{assetKeys:(0,te.Bo)(t)}):(0,ie.jsxs)(u.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,ie.jsx)(E.h,{isJob:A,showIcon:!0,pipelineName:t.pipelineName,pipelineHrefContext:"no-link"}),(0,ie.jsx)(Z.rU,{to:N?(0,I.jT)({repoName:N.match.repository.name,repoLocation:N.match.repositoryLocation.name,pipelineName:t.pipelineName,isJob:A}):(0,I.r4)(t.pipelineName),target:"_blank",children:(0,ie.jsx)(p.JO,{name:"open_in_new",color:g.w.Blue500})})]}),(0,ie.jsxs)(u.x,{flex:{direction:"row",gap:8,wrap:"wrap"},children:[t.tags.length?(0,ie.jsx)(u.x,{children:(0,ie.jsx)(j.m,{fillColor:g.w.Gray100,label:(0,ie.jsxs)(v.Z,{onClick:function(){M(!0)},children:[t.tags.length," tag",1===t.tags.length?"":"s"]})})}):null,(0,ie.jsx)(Oe,{children:B.length?(0,ie.jsx)(ue.Q,{tags:B,mode:A?"default"!==t.mode?t.mode:null:t.mode,onAddTag:r}):null})]})]}),K&&t.tags.length?(0,ie.jsx)(b.b,{onShortcut:function(){M((function(e){return!e}))},shortcutLabel:"t",shortcutFilter:function(e){return"KeyT"===e.code},children:null},"runtabletags"):null]}),h?null:(0,ie.jsx)("td",{children:(0,ie.jsx)(we,{tags:t.tags||[]})}),(0,ie.jsx)("td",{children:(0,ie.jsx)(Ze.M9,{status:t.status,runId:t.id})}),(0,ie.jsx)("td",{children:(0,ie.jsx)(te.Tw,{run:t})}),a,(0,ie.jsx)("td",{children:(0,ie.jsx)(he,{run:t,onAddTag:r,additionalActionsForRun:l})}),(0,ie.jsxs)(y.Vq,{isOpen:U,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:function(){M(!1)},children:[(0,ie.jsx)(y.a7,{children:(0,ie.jsx)(ue.Q,{tags:t.tags,mode:A?"default"!==t.mode?t.mode:null:t.mode,onAddTag:r})}),(0,ie.jsx)(y.cN,{topBorder:!0,children:(0,ie.jsx)(w.zx,{intent:"primary",onClick:function(){M(!1)},children:"Close"})})]})]})},Te=a.ZP.tr.withConfig({displayName:"RunTable__Row",componentId:"sc-18h8t3i-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}));function Ie(e){var n=e.top,t=e.bottom;return(0,ie.jsxs)(u.x,{flex:{direction:"column"},padding:{vertical:12},children:[(0,ie.jsx)(u.x,{flex:{alignItems:"center",gap:12},padding:{left:24,right:24},children:n}),t?(0,ie.jsx)(u.x,{margin:{top:12},padding:{left:24,right:12,top:8},border:{side:"top",width:1,color:g.w.KeylineGray},flex:{gap:8},children:t}):null]})}var Oe=a.ZP.div.withConfig({displayName:"RunTable__RunTagsWrapper",componentId:"sc-18h8t3i-1"})(["display:contents;> *{display:contents;}"])},69654:function(e,n,t){t.d(n,{A:function(){return R}});var i=t(32723),r=t(34795),o=t(96234),s=t(56666),c=t(33028),a=t(15541),l=t(80018),u=t(4537),d=t(17914),p=t(47515),h=t(22e3),m=t(32667),x=t(45519),f=t(83473),g=t(3077),j=t(78193),v=t(23555),y=t(49675),w=t(89622),C=t(35936),Z=function(e){if("TerminateRunSuccess"===(null===e||void 0===e?void 0:e.terminatePipelineExecution.__typename))throw new ErrorEvent("Not an error!");return null===e||void 0===e?void 0:e.terminatePipelineExecution},b=function(e){return{mustForce:!Object.keys(e).some((function(n){return e[n]})),frozenRuns:e,step:"initial",termination:{completed:0,errors:{}}}},k=function(e,n){switch(n.type){case"reset":return b(n.frozenRuns);case"toggle-force-terminate":return(0,c.Z)((0,c.Z)({},e),{},{mustForce:n.checked});case"start":return(0,c.Z)((0,c.Z)({},e),{},{step:"terminating"});case"termination-success":var t=e.termination;return(0,c.Z)((0,c.Z)({},e),{},{step:"terminating",termination:(0,c.Z)((0,c.Z)({},t),{},{completed:t.completed+1})});case"termination-error":var i=e.termination;return(0,c.Z)((0,c.Z)({},e),{},{step:"terminating",termination:(0,c.Z)((0,c.Z)({},i),{},{completed:i.completed+1,errors:(0,c.Z)((0,c.Z)({},i.errors),{},(0,s.Z)({},n.id,n.error))})});case"complete":return(0,c.Z)((0,c.Z)({},e),{},{step:"completed"})}},R=function(e){var n=e.isOpen,t=e.onClose,s=e.onComplete,c=e.selectedRuns,R=j.useRef(c),E=j.useReducer(k,R.current,b),N=(0,o.Z)(E,2),T=N[0],I=N[1],O=Object.keys(T.frozenRuns).length;j.useEffect((function(){n&&I({type:"reset",frozenRuns:R.current})}),[n]),j.useEffect((function(){n||(R.current=c)}),[n,c]);var A=(0,a.D)(w.zU),S=(0,o.Z)(A,1)[0],_=T.mustForce?v.vlg.MARK_AS_CANCELED_IMMEDIATELY:v.vlg.SAFE_TERMINATE,P=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,o,c,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I({type:"start"}),n=Object.keys(T.frozenRuns),t=0,r=n;case 3:if(!(t<r.length)){e.next=13;break}return o=r[t],e.next=7,S({variables:{runId:o,terminatePolicy:_}});case 7:c=e.sent,"TerminateRunSuccess"===(null===(a=c.data)||void 0===a?void 0:a.terminatePipelineExecution.__typename)?I({type:"termination-success"}):I({type:"termination-error",id:o,error:Z(a)});case 10:t++,e.next=3;break;case 13:I({type:"complete"}),s(T.termination);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){I({type:"toggle-force-terminate",checked:e.target.checked})},D=Object.keys(T.frozenRuns).some((function(e){return T.frozenRuns[e]})),F="terminating"!==T.step;return(0,C.jsxs)(g.Vq,{isOpen:n,title:"Terminate runs",canEscapeKeyClose:F,canOutsideClickClose:F,onClose:t,children:[(0,C.jsx)(g.a7,{children:(0,C.jsxs)(u.Z,{direction:"column",spacing:24,children:[function(){switch(T.step){case"initial":return O?(0,C.jsxs)(u.Z,{direction:"column",spacing:16,children:[(0,C.jsx)("div",{children:"".concat(O," ").concat(1===O?"run":"runs"," will be terminated. Do you wish to continue?")}),(0,C.jsx)("div",{children:D?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.X,{checked:T.mustForce,size:"small",label:"Force termination immediately",onChange:z}),T.mustForce?(0,C.jsxs)(p.x,{flex:{display:"flex",direction:"row",gap:8},margin:{top:8},children:[(0,C.jsx)(h.JO,{name:"warning",color:m.w.Yellow500}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]}):null]}):(0,C.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,C.jsx)(h.JO,{name:"warning",color:m.w.Yellow500}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]})})]}):(0,C.jsxs)(u.Z,{direction:"column",spacing:16,children:[(0,C.jsx)("div",{children:"No runs selected for termination."}),(0,C.jsx)("div",{children:"The runs you selected may already have finished executing."})]});case"terminating":case"completed":var e=O>0?T.termination.completed/O:1;return(0,C.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,C.jsx)("div",{children:T.mustForce?"Forcing termination\u2026":"Terminating\u2026"}),(0,C.jsx)(l.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"terminating"===T.step?(0,C.jsx)(y.c,{message:"Termination in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===T.step)return null;if("terminating"===T.step)return(0,C.jsx)("div",{children:"Please do not close the window or navigate away during termination."});var e=T.termination.errors,n=Object.keys(e).length,t=T.termination.completed-n;return(0,C.jsxs)(u.Z,{direction:"column",spacing:8,children:[t?(0,C.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,C.jsx)(h.JO,{name:"check_circle",color:m.w.Green500}),(0,C.jsx)("div",{children:T.mustForce?"Successfully forced termination for ".concat(t,"\n                ").concat(1===t?"run":"runs","."):"Successfully requested termination for ".concat(t,"\n              ").concat(1===t?"run":"runs",".")})]}):null,n?(0,C.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,C.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,C.jsx)(h.JO,{name:"warning",color:m.w.Yellow500}),(0,C.jsx)("div",{children:T.mustForce?"Could not force termination for ".concat(n," ").concat(1===n?"run":"runs",":"):"Could not request termination for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,C.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,C.jsx)("li",{children:(0,C.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,C.jsx)(f.fv,{children:n.slice(0,8)}),e[n]?(0,C.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,C.jsx)(g.cN,{children:function(){switch(T.step){case"initial":return O?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,C.jsx)(x.zx,{intent:"danger",onClick:P,children:"".concat(T.mustForce?"Force termination for":"Terminate"," ","".concat(O," ").concat(1===O?"run":"runs"))})]}):(0,C.jsx)(x.zx,{intent:"none",onClick:t,children:"OK"});case"terminating":return(0,C.jsx)(x.zx,{intent:"danger",disabled:!0,children:T.mustForce?"Forcing termination for ".concat("".concat(O," ").concat(1===O?"run":"runs","...")):"Terminating ".concat("".concat(O," ").concat(1===O?"run":"runs","..."))});case"completed":return(0,C.jsx)(x.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},37870:function(e,n,t){t.d(n,{J:function(){return a}});var i=t(4537),r=(t(78193),t(66708)),o=t(9610),s=t(80500),c=t(35936),a=function(e){var n,t,a=(0,s.n)(e);if(!e)return null;if(!e.pipelineSnapshotId)return{icon:"error",tooltip:'"'.concat(e.pipelineName,'" could not be found.'),disabled:!0};if(a){var l=a.type;if("origin-and-snapshot"===l)return null;if("origin-only"===l)return{icon:"warning",tooltip:'The loaded version of "'.concat(e.pipelineName,'" may be different than the one used for the original run.'),disabled:!1};if("snapshot-only"===l){var u=e.repositoryOrigin?(0,o.Uz)((0,r.kQ)(e.repositoryOrigin.repositoryName,e.repositoryOrigin.repositoryLocationName)):null;return{icon:"warning",tooltip:(0,c.jsxs)(i.Z,{direction:"column",spacing:4,children:[(0,c.jsx)("div",{children:'The original run loaded "'.concat(e.pipelineName,'" from ').concat(u||"a different code location",".")}),u?(0,c.jsxs)("div",{children:["Original definition in: ",(0,c.jsx)("strong",{children:u})]}):null]}),disabled:!1}}return{icon:"warning",tooltip:'The job "'.concat(e.pipelineName,'" may be a different version from the original pipeline run.'),disabled:!1}}var d=null===(n=e.repositoryOrigin)||void 0===n?void 0:n.repositoryName,p=null===(t=e.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName;return{icon:"error",tooltip:(0,c.jsxs)(i.Z,{direction:"column",spacing:8,children:[(0,c.jsx)("div",{children:'"'.concat(e.pipelineName,'" is not available in your definitions.')}),d&&p?(0,c.jsx)("div",{children:"Load definitions for ".concat((0,r.At)(d,p)," and try again.")}):null]}),disabled:!0}}},80500:function(e,n,t){t.d(n,{n:function(){return a},r:function(){return c}});var i=t(92761),r=t(26590),o=function(e,n){if(!n)return null;var t=n.pipelineName,i=n.repositoryOrigin;if(!i)return null;var o=null===i||void 0===i?void 0:i.repositoryLocationName,s=null===i||void 0===i?void 0:i.repositoryName,c=e.find((function(e){return e.repository.name===s&&e.repositoryLocation.name===o}));return c&&(0,r.h)(c,t)?c:null},s=function(e,n){if(!n)return null;var t=n.pipelineName,i=(0,r.k)(e,t);return i.length?i:null},c=function(e){var n=(0,i.vl)().options,t=o(n,e);if(t)return{match:t,type:"origin"};var r=s(n,e);return r&&r.length?{match:r[0],type:"pipeline-name-only"}:null},a=function(e){var n=(0,i.vl)().options,t=o(n,e),c=function(e,n){var t;if(!n)return null;var i=n.pipelineName,o=null!==(t=n.parentPipelineSnapshotId)&&void 0!==t?t:n.pipelineSnapshotId;if(i&&o){var s=(0,r.k)(e,i,o);if(s.length)return s}return null}(n,e),a=s(n,e);if(t){if(c){var l=c.find((function(e){return e.repository.name===t.repository.name&&e.repositoryLocation.name===t.repositoryLocation.name}));if(l)return{match:l,type:"origin-and-snapshot"}}return{match:t,type:"origin-only"}}return c&&c[0]?{match:c[0],type:"snapshot-only"}:a&&a[0]?{match:a[0],type:"pipeline-name-only"}:null}},20356:function(e,n,t){t.d(n,{m:function(){return c}});var i=t(60319),r=(t(78193),t(47515)),o=t(32667),s=t(35936),c=function(e){var n=e.title,t=e.tags,i=e.right,c=e.tabs;return(0,s.jsxs)(a,{background:o.w.Gray50,padding:{top:16,left:24,right:12},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:[(0,s.jsxs)(r.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,s.jsxs)(r.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[n,t]}),i]}),c]})},a=(0,i.ZP)(r.x).withConfig({displayName:"PageHeader__PageHeaderContainer",componentId:"sc-1u8zksn-0"})(["width:100%;.bp4-breadcrumbs{height:auto;}"])}}]);
//# sourceMappingURL=231.54b26c2a.chunk.js.map