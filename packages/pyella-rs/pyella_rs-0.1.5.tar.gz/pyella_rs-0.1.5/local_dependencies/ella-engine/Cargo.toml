[package]
name = "ella-engine"
version= "0.1.5"
edition= "2021"
authors= ["Dexter Duckworth <dexterduck@users.noreply.github.com>"]
license= "MIT OR Apache-2.0"
repository= "https://github.com/CerebusOSS/ella"
description = "Core engine implementation for the ella datastore."
resolver = "2"

[dependencies]
datafusion = "27.0.0"
datafusion-proto = "27.0.0"
arrow-schema = { version = "42.0.0", features = ["serde"] }
thiserror = "1.0.40"
ella-common = { path = "../ella-common" }
ella-tensor = { path = "../ella-tensor" }

tokio = { version = "1.27.0" , features = ["sync", "rt-multi-thread"] }
futures = "0.3.28"
derive_more = "0.99.17"
serde = { version = "1.0.160", features = ["derive"] }
serde_json = "1.0.95"
uuid = { version = "1.3.1", features = ["v4", "serde"] }
once_cell = "1.18.0"
object_store = "0.6.1"
thrift = "0.17"
async-trait = "0.1.62"
dashmap = "5.4.0"
strum = { version = "0.24.1", features = ["derive"] }
url = { version = "2.3.1", features = ["serde"] }
flume = "0.10.14"
rand = "0.8.5"

prometheus-client = { version = "0.21.1", features = [] , optional = true }
hyper = { version = "0.14.26", features = ["server", "http2",
    "server",
    "http2",
    "tcp"] , optional = true}

num-traits = "0.2.15"
tokio-stream = { version = "0.1.12", features = ["sync"] }
tokio-util = "0.7.7"
tracing = "0.1.37"
tracing-subscriber = { version = "0.3.17", features = ["env-filter"] }

[features]
default = ["metrics"]
metrics = ["dep:prometheus-client", "dep:hyper"]
pyo3 = ["ella-common/pyo3", "ella-tensor/pyo3", "datafusion/pyarrow"]
