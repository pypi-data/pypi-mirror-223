import{l as F,Q as _,c as N,aq as k,a4 as R,y as i,I as s,U as T,z as r,A as n,j as l,G as y,x as t,D as w,N as o,R as u,H as m,k as c,X as M,M as d,L as C,K as D}from"./index-0b85ac09.js";import{_ as P,m as S,p as z,e as B,o as E,f as H}from"./utils-6da9b08b.js";import{_ as O,B as U,L as K,a as j}from"./ListItem-13203a50.js";import{a as G,c as f,b as q,V as L}from"./VTooltip-98b8e750.js";import{k as v,j as Q,s as W}from"./VImg-0b02a672.js";const X={key:0,class:"media-thumb listitem-media-thumb"},Y={key:1,class:"media-thumb listitem-media-thumb"},J={key:2,class:"media-thumb listitem-media-thumb"},Z={key:0},x={key:1},ee={key:0},ie={key:0,class:"line-clamp-1"},te={key:1},oe={key:2},ae={key:3},se={key:4},ne={key:5},me={key:2},re={key:3},le={class:"text-caption",style:{"padding-right":"10px","padding-left":"10px"}},de=F({__name:"ListviewItem",props:{item:{},showTrackNumber:{type:Boolean,default:!0},showDiscNumber:{type:Boolean,default:!0},showPosition:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavorite:{type:Boolean,default:!1},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},isDisabled:{type:Boolean,default:!1},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0},contextMenuItems:{}},emits:["menu","click","select"],setup(V,{emit:b}){const g=V,{t:A}=_(),I=N(()=>{for(const e of g.item.provider_mappings)if(e.audio_format.content_type!=null&&[k.DSF,k.FLAC,k.AIFF,k.WAV].includes(e.audio_format.content_type)&&(e.audio_format.sample_rate>48e3||e.audio_format.bit_depth>16))return`${e.audio_format.sample_rate/1e3}kHz ${e.audio_format.bit_depth} bits`;return""}),$=function(e){var a;if(e.media_type==d.FOLDER||!g.item.provider_mappings)return!0;for(const h of e.provider_mappings)if(h.available&&((a=C.providers[h.provider_instance])!=null&&a.available))return!0;return!1};return(e,a)=>{const h=R("hold");return i(),s("div",null,[T((i(),r(K,{link:"",disabled:!$(e.item)||e.isDisabled,"context-menu-items":e.contextMenuItems,onClick:a[5]||(a[5]=y(p=>b("click",e.item),["stop"])),onContextmenu:a[6]||(a[6]=y(()=>b("menu",e.item),["right","prevent"]))},{prepend:n(()=>[e.showCheckboxes?(i(),s("div",X,[l(G,{"model-value":e.isSelected,onClick:a[0]||(a[0]=y(()=>{},["stop"])),"onUpdate:modelValue":a[1]||(a[1]=p=>{b("select",e.item,p)})},null,8,["model-value"])])):e.item.media_type==t(d).FOLDER?(i(),s("div",Y,[l(Q,{variant:"plain",icon:""},{default:n(()=>[l(v,{icon:"mdi-folder",size:"60",style:{align:"center"}})]),_:1})])):(i(),s("div",J,[l(P,{height:"50",width:"50",item:e.item},null,8,["item"])]))]),title:n(()=>[e.item.media_type==t(d).FOLDER?(i(),s("span",Z,[w("span",null,o(t(S)(e.item,t(A))),1)])):(i(),s("span",x,[u(o(e.item.name)+" ",1),"version"in e.item&&e.item.version?(i(),s("span",ee,"("+o(e.item.version)+")",1)):m("",!0)])),e.item&&e.item.metadata?(i(),r(t(L),{key:2,location:"bottom"},{activator:n(({props:p})=>[t(z)(e.item.metadata.explicit||!1)?(i(),r(v,c({key:0},p,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):m("",!0)]),default:n(()=>[w("span",null,o(e.$t("tooltip.explicit")),1)]),_:1})):m("",!0)]),subtitle:n(()=>[e.item.media_type==t(d).TRACK?(i(),s("div",ie,[l(q,null,{default:n(()=>["artists"in e.item?(i(),r(f,{key:0},{default:n(()=>[u(o(t(B)(e.item.artists,2)),1)]),_:1})):m("",!0),e.showAlbum&&"album"in e.item&&e.item.album?(i(),r(f,{key:1},{default:n(()=>[u(" • "+o(e.item.album.name),1)]),_:1})):m("",!0),"disc_number"in e.item&&e.item.disc_number&&e.showDiscNumber?(i(),r(f,{key:2},{default:n(()=>[l(v,{style:{"margin-left":"5px"},icon:"md:album"}),u(" "+o(e.item.disc_number),1)]),_:1})):m("",!0),"track_number"in e.item&&e.item.track_number&&e.showTrackNumber?(i(),r(f,{key:3},{default:n(()=>[l(v,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),u(" "+o(e.item.track_number),1)]),_:1})):"position"in e.item&&e.item.position&&e.showPosition?(i(),r(f,{key:4},{default:n(()=>[l(v,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),u(" "+o(e.item.position),1)]),_:1})):m("",!0)]),_:1})])):e.item.media_type==t(d).ALBUM&&"artists"in e.item&&e.item.artists&&"year"in e.item&&e.item.year&&"album_type"in e.item?(i(),s("div",te,o(e.$t("album_type."+e.item.album_type))+" • "+o(t(B)(e.item.artists))+" • "+o(e.item.year),1)):e.item.media_type==t(d).ALBUM&&"artists"in e.item&&e.item.artists&&"album_type"in e.item?(i(),s("div",oe,o(e.$t("album_type."+e.item.album_type))+" • "+o(t(B)(e.item.artists)),1)):"artists"in e.item&&e.item.artists?(i(),s("div",ae,o(t(B)(e.item.artists)),1)):"owner"in e.item&&e.item.owner?(i(),s("div",se,o(e.item.owner),1)):m("",!0),e.item.media_type==t(d).RADIO&&e.item.metadata.description?(i(),s("div",ne,o(e.item.metadata.description),1)):m("",!0)]),append:n(()=>[I.value?(i(),r(W,{key:0,src:t(E),width:"30",class:M(e.$vuetify.theme.current.dark?"hiresicondark":"hiresicon")},{default:n(()=>[l(t(L),{activator:"parent",location:"bottom"},{default:n(()=>[u(o(I.value),1)]),_:1})]),_:1},8,["src","class"])):m("",!0),t(D)("bp2")&&e.showProvider?(i(),r(O,{key:1,domain:e.item.media_type==t(d).PLAYLIST?e.item.provider_mappings[0].provider_domain:e.item.provider,size:24},null,8,["domain"])):m("",!0),t(D)("bp3")&&"favorite"in e.item&&e.showFavorite&&!e.$vuetify.display.mobile?(i(),s("div",me,[l(U,c(g,{variant:"list",icon:e.item.favorite?"mdi-heart":"mdi-heart-outline",title:e.$t("tooltip.favorite"),onClick:[a[2]||(a[2]=p=>t(C).toggleFavorite(e.item)),a[3]||(a[3]=y(()=>{},["prevent"])),a[4]||(a[4]=y(()=>{},["stop"]))]}),null,16,["icon","title"])])):m("",!0),e.showDuration&&e.item.media_type==t(d).TRACK&&"duration"in e.item&&e.item.duration!=null&&t(D)("bp0")?(i(),s("div",re,[w("div",null,[w("span",le,o(t(H)(e.item.duration)),1)])])):m("",!0)]),_:1},8,["disabled","context-menu-items"])),[[h,()=>b("menu",e.item)]])])}}});const be=j(de,[["__scopeId","data-v-1109dd7c"]]);export{be as L};
