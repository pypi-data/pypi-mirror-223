import{g as f,l as _,r as k,o as V,L as l,M as p,y as o,I as m,F as d,J as y,j as u,B as C,A as r,z as v,H as h,R as S,N as g,E as x,v as b}from"./index-0cff8698.js";import{_ as L}from"./PanelviewItem.vue_vue_type_style_index_0_lang-8fbfb35d.js";import{i as D,e as A}from"./contextmenu-73b6c1b4.js";import{x as E,y as G,V as N,k as P}from"./VImg-435e9ae7.js";import{V as B}from"./VBadge-8a3c13ec.js";import{V as M}from"./VToolbar-bc6bb481.js";import{V as T,a as $}from"./VSlideGroup-86c0a6a0.js";import"./ListItem-cae54af4.js";import"./VMenu-f2e8ec0c.js";import"./VTooltip-3ff4ff7f.js";import"./VCheckboxBtn-6c29e9c8.js";import"./VCard-b17c950b.js";const F=f()({name:"VSlideGroupItem",props:E(),emits:{"group:selected":c=>!0},setup(c,t){let{slots:n}=t;const e=G(c,T);return()=>{var i;return(i=n.default)==null?void 0:i.call(n,{isSelected:e.isSelected.value,select:e.select,toggle:e.toggle,selectedClass:e.selectedClass.value})}}}),H={key:0,class:"widget-row"},X=_({__name:"HomeView",setup(c){const t=k({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});V(async()=>{l.getRecentlyPlayedItems(20).then(e=>{t.value.recently_played.items=e}),l.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()").then(e=>{t.value.artists.items=e.items,t.value.artists.count=e.total}),l.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC").then(e=>{t.value.albums.items=e.items,t.value.albums.count=e.total}),l.getRecentlyPlayedItems(10,[p.PLAYLIST]).then(e=>{t.value.playlists.items=e,l.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC").then(i=>{t.value.playlists.count=i.total;const a=e.map(function(s){return s.name});for(const s of i.items)a.includes(s.name)||t.value.playlists.items.push(s)})}),l.getRecentlyPlayedItems(10,[p.RADIO]).then(e=>{t.value.radios.items=e,l.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC").then(i=>{t.value.radios.count=i.total;const a=e.map(function(s){return s.name});for(const s of i.items)a.includes(s.name)||t.value.radios.items.push(s)})}),l.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC").then(e=>{t.value.tracks.items=e.items,t.value.tracks.count=e.total}),await l.browse("",e=>{t.value.browse.items.push(...e)})});const n=function(e){D(e)&&["artist","album","playlist"].includes(e.media_type)?b.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}}):e.media_type===p.FOLDER?b.push({name:"browse",query:{path:e.path}}):A.emit("playdialog",{items:[e],showContextMenuItems:!0})};return(e,i)=>(o(),m("div",null,[(o(!0),m(d,null,y(t.value,a=>(o(),m("div",{key:a.label},[u(N),a.items.length?(o(),m("div",H,[u(M,{color:"transparent",onClick:s=>a.path?e.$router.replace(a.path):"",style:x(a.path?"cursor: pointer":"")},C({prepend:r(()=>[u(P,{icon:a.icon,style:{"margin-left":"15px"}},null,8,["icon"])]),title:r(()=>[S(g(e.$t(a.label)),1)]),_:2},[a.path?{name:"append",fn:r(()=>[a.count?(o(),v(B,{key:0,color:"grey",content:a.count,inline:""},null,8,["content"])):h("",!0)]),key:"0"}:void 0]),1032,["onClick","style"]),u($,{"show-arrows":!1},{prev:r(()=>[]),next:r(()=>[]),default:r(()=>[(o(!0),m(d,null,y(a.items,s=>(o(),v(F,{key:s.uri},{default:r(()=>[u(L,{item:s,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,style:{height:"160px",width:"120px",margin:"5px"},onClick:n},null,8,["item"])]),_:2},1024))),128))]),_:2},1024)])):h("",!0)]))),128))]))}});export{X as default};
