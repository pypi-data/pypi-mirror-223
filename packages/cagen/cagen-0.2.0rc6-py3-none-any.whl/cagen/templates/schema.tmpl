<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" vocab="https://schema.org" typeof="WebPage">
    <head>
        % if title is not UNDEFINED:
        <title property="headline">${title}</title>
        % endif
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
	% if sourcefile is not UNDEFINED:
        <link rel="canonical" href="${sourcefile}.html" />
        % endif
	<!-- begin: math stuff -->
	<!-- loads KaTeX libraries -->
	<!-- borrow from pandoc -->
  	<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  	<script>
	 document.addEventListener("DOMContentLoaded", function () {
	 var mathElements = document.getElementsByClassName("math");
	 var macros = [];
	 for (var i = 0; i < mathElements.length; i++) {
	  var texText = mathElements[i].firstChild;
	  if (mathElements[i].tagName == "SPAN") {
	   katex.render(texText.data, mathElements[i], {
	    displayMode: mathElements[i].classList.contains('display'),
	    throwOnError: false,
	    macros: macros,
	    fleqn: false
	   });
	}}});
  	</script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
	<!-- end: math stuff -->
	<!-- CSS -->
	<style>
		/* Generals */
		html {
			margin: 1em;
		}

		body {
			text-rendering: optimizeLegibility;
			font-size: medium;
			background-color: rgb(255, 255, 255);
		}

		img {
			max-width: 100%;
		}


		p {
			text-align: justify;
		}

		body li {
			text-align: justify;
		}

		#content {
			margin-top: 3em;
		}

		h1, h2, h3, h4, h5, h6 {
			font-family: serif;
			font-weight: bold;
			border-top: none;
		}

		h1.title {
			border: none;
			padding: 0;
			margin: 0;
			font-size: 200%
		}

		h1 {
			font-size: 150%;
		}

		h1:first-of-type {
			border: none
		}

		h2 {
			font-size: 125%;
			font-style: italic
		}

		h3 {
			font-size: 110%;
			font-style: italic
		}
		
		q, blockquote {
			font-style: italic;
		}

		footer {
			margin-top: 2em;
			border-top: 1px solid #e1e7ec;
			padding-top: 1em;
		}

	  	/* Comma-separated list */
	  	/* https://stackoverflow.com/a/1517228/7532 */

	  	.comma-list {
			display: inline;
			list-style: none;
			padding: 0px;
			font-size: small;
		}

		.comma-list li {
			display: inline;
		}

	  	.comma-list li::after {
			content: ", ";
		}

	  	.comma-list li:last-child::after {
			content: "";
		}

		/* Navegaci√≥ */
		#menu a.pinned + .pinned {
			margin-left: 1.5em;
		}

		#menu {
			border-bottom:1px solid #e1e7ec;
			margin-bottom: 1em;
			text-align: right;
			padding-right: 1em;
		}
	</style>
    </head>
    <body>
	<header>
	% if navbar is not UNDEFINED and isinstance(navbar, list):
	<nav id="menu">
	% for t in navbar:
	% if isinstance(t, dict):
	% if 'title' in t.keys () and 'url' in t.keys():
	<a class="pinned" href="${t['url']}">${t['title']}</a>
	% endif
	% endif
	% endfor
	</nav>
	% endif
	</header>
	<section id="main">
		<article vocab="https://schema.org/" typeof="WebPage">
			<header id="title-block-header">
			% if title is not UNDEFINED:
			<h1 class="title" property="name headline">${title}</h1>
			% endif
			</header>
			<main id="content" property="mainContentOfPage">
				${conversion}
			</main>
		</article>
	</section>
    </body>
    <footer>
           <p>This page was generated by <a href="https://repo.or.cz/cagen.git">cagen</a>
           % if sourcefile is not UNDEFINED:
           from <a href="${sourcefile}">original markdown file</a>
           <%!
		import datetime
	   %>
           % endif
           on <time datetime="${datetime.datetime.now().isoformat()}">${datetime.datetime.now().strftime("%c")}</time>.</p>
	   % if repository is not UNDEFINED:
	   <p>Source code at <a xmlns:dct="http://purl.org/dc/terms/" href="${repository}" rel="dct:source">${repository}</a>.</p>
	   % endif
	   % if revisionnumber is not UNDEFINED:
	   <p>Revision number ${revisionnumber}.</p>
	   % endif
    </footer>
</html>
