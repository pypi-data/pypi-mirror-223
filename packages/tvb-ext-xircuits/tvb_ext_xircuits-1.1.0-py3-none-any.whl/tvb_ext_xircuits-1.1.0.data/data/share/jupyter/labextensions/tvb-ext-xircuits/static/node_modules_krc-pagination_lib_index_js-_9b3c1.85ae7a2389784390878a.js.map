{"version":3,"file":"node_modules_krc-pagination_lib_index_js-_9b3c1.85ae7a2389784390878a.js","mappings":";;;;;;;;;AAAa;;AAEb,kBAAkB;;AAElB,yCAAyC,mBAAO,CAAC,qEAAc;;AAE/D,kBAAkB;;AAElB,uCAAuC,uCAAuC;;;;;;;;;;ACRjE;;AAEb,kBAAkB;AAClB,kBAAkB;;AAElB,oCAAoC,mBAAO,CAAC,oDAAO;;AAEnD,uCAAuC,uCAAuC;;AAE9E,gDAAgD,0DAA0D,2CAA2C;;AAErJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,CAAC;;AAED;AACA,kBAAkB","sources":["webpack://tvb-ext-xircuits/./node_modules/krc-pagination/lib/index.js","webpack://tvb-ext-xircuits/./node_modules/krc-pagination/lib/pagination.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _pagination = _interopRequireDefault(require(\"./pagination\"));\n\nexports.Pagination = _pagination[\"default\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar LEFT_PAGE = \"LEFT\";\nvar RIGHT_PAGE = \"RIGHT\";\n\nvar range = function range(from, to, step) {\n  if (step === void 0) {\n    step = 1;\n  }\n\n  var i = from;\n  var range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nvar Pagination =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Pagination, _React$Component);\n\n  function Pagination(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _this.gotoPage = function (page) {\n      var _this$props$onPageCha = _this.props.onPageChanged,\n          onPageChanged = _this$props$onPageCha === void 0 ? function (f) {\n        return f;\n      } : _this$props$onPageCha;\n      var currentPage = Math.max(1, Math.min(page, _this.totalPages));\n      var paginationData = {\n        currentPage: currentPage,\n        totalPages: _this.totalPages,\n        pageLimit: _this.pageLimit,\n        totalRecords: _this.totalRecords\n      };\n\n      _this.setState({\n        currentPage: currentPage\n      }, function () {\n        return onPageChanged(paginationData);\n      });\n    };\n\n    _this.handleClick = function (page, evt) {\n      evt.preventDefault();\n\n      _this.gotoPage(page);\n    };\n\n    _this.handleMoveLeft = function (evt) {\n      evt.preventDefault();\n\n      _this.gotoPage(_this.state.currentPage - _this.pageNeighbours * 2 - 1);\n    };\n\n    _this.handleMoveRight = function (evt) {\n      evt.preventDefault();\n\n      _this.gotoPage(_this.state.currentPage + _this.pageNeighbours * 2 + 1);\n    };\n\n    _this.fetchPageNumbers = function () {\n      var totalPages = _this.totalPages;\n      var currentPage = _this.state.currentPage;\n      var pageNeighbours = _this.pageNeighbours;\n      var totalNumbers = _this.pageNeighbours * 2 + 3;\n      var totalBlocks = totalNumbers + 2;\n\n      if (totalPages > totalBlocks) {\n        var pages = [];\n        var leftBound = currentPage - pageNeighbours;\n        var rightBound = currentPage + pageNeighbours;\n        var beforeLastPage = totalPages - 1;\n        var startPage = leftBound > 2 ? leftBound : 2;\n        var endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\n        pages = range(startPage, endPage);\n        var pagesCount = pages.length;\n        var singleSpillOffset = totalNumbers - pagesCount - 1;\n        var leftSpill = startPage > 2;\n        var rightSpill = endPage < beforeLastPage;\n        var leftSpillPage = LEFT_PAGE;\n        var rightSpillPage = RIGHT_PAGE;\n\n        if (leftSpill && !rightSpill) {\n          var extraPages = range(startPage - singleSpillOffset, startPage - 1);\n          pages = [leftSpillPage].concat(extraPages, pages);\n        } else if (!leftSpill && rightSpill) {\n          var _extraPages = range(endPage + 1, endPage + singleSpillOffset);\n\n          pages = [].concat(pages, _extraPages, [rightSpillPage]);\n        } else if (leftSpill && rightSpill) {\n          pages = [leftSpillPage].concat(pages, [rightSpillPage]);\n        }\n\n        return [1].concat(pages, [totalPages]);\n      }\n\n      return range(1, totalPages);\n    };\n\n    var _props$totalRecords = props.totalRecords,\n        totalRecords = _props$totalRecords === void 0 ? null : _props$totalRecords,\n        _props$pageLimit = props.pageLimit,\n        pageLimit = _props$pageLimit === void 0 ? 1 : _props$pageLimit,\n        _props$pageNeighbours = props.pageNeighbours,\n        _pageNeighbours = _props$pageNeighbours === void 0 ? 1 : _props$pageNeighbours;\n\n    _this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 1;\n    _this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n    _this.pageNeighbours = typeof _pageNeighbours === \"number\" ? Math.max(0, Math.min(_pageNeighbours, 2)) : 1;\n    _this.totalPages = Math.ceil(_this.totalRecords / _this.pageLimit);\n    _this.state = {\n      currentPage: 1\n    };\n    return _this;\n  }\n\n  var _proto = Pagination.prototype;\n\n  _proto.componentWillUpdate = function componentWillUpdate() {\n    if (this.props.totalRecords != null) {\n      this.totalRecords = this.props.totalRecords;\n      this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n      this.state = {\n        currentPage: this.state.currentPage\n      };\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.gotoPage(1);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    if (!this.totalRecords) return null;\n    if (this.totalPages === 1) return null;\n    var currentPage = this.state.currentPage;\n    var pages = this.fetchPageNumbers();\n    return _react[\"default\"].createElement(\"ul\", {\n      className: \"pagination\"\n    }, pages.map(function (page, index) {\n      if (page === LEFT_PAGE) return _react[\"default\"].createElement(\"li\", {\n        key: index,\n        className: \"page-item\"\n      }, _react[\"default\"].createElement(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        \"aria-label\": \"Previous\",\n        onClick: _this2.handleMoveLeft\n      }, _react[\"default\"].createElement(\"span\", {\n        \"aria-hidden\": \"true\"\n      }, \"\\xAB\")));\n      if (page === RIGHT_PAGE) return _react[\"default\"].createElement(\"li\", {\n        key: index,\n        className: \"page-item\"\n      }, _react[\"default\"].createElement(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        \"aria-label\": \"Next\",\n        onClick: _this2.handleMoveRight\n      }, _react[\"default\"].createElement(\"span\", {\n        \"aria-hidden\": \"true\"\n      }, \"\\xBB\")));\n      return _react[\"default\"].createElement(\"li\", {\n        key: index,\n        className: \"page-item\" + (currentPage === page ? \" active\" : \"\")\n      }, _react[\"default\"].createElement(\"a\", {\n        className: \"page-link\",\n        href: \"#\",\n        onClick: function onClick(e) {\n          return _this2.handleClick(page, e);\n        }\n      }, page));\n    }));\n  };\n\n  return Pagination;\n}(_react[\"default\"].Component);\n\nvar _default = Pagination;\nexports[\"default\"] = _default;"],"names":[],"sourceRoot":""}