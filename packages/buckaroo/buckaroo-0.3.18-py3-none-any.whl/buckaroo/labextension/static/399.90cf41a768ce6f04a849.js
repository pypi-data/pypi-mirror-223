"use strict";(self.webpackChunkbuckaroo=self.webpackChunkbuckaroo||[]).push([[399],{6281:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnsEditorEx=t.ColumnsEditor=void 0;const l=o(n(7294)),i=n(8734),s=n(2548),d=n(4254),u=n(8734);function c({df:e,activeColumn:t,operations:n,setOperations:a,operationResult:r,commandConfig:o,widgetConfig:i}){const u=e.schema.fields.map((e=>e.name));return l.default.createElement("div",{className:"columns-editor",style:{width:"100%"}},i.showCommands?l.default.createElement("div",null,l.default.createElement(s.OperationViewer,{operations:n,setOperations:a,activeColumn:t,allColumns:u,commandConfig:o}),l.default.createElement(d.DependentTabs,{filledOperations:n,operationResult:r})):l.default.createElement("span",null))}t.ColumnsEditor=c,t.ColumnsEditorEx=function(){const[e,t]=(0,l.useState)(i.bakedOperations),n={transformed_df:i.EmptyDf,generated_py_code:"default py code",transform_error:void 0};return l.default.createElement(c,{df:u.tableDf,activeColumn:"foo",commandConfig:u.bakedCommandConfig,operations:e,setOperations:t,operationResult:n,widgetConfig:{showCommands:!0}})}},3537:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bakedArgSpecs=t.symDf=void 0,t.symDf={symbol:"df"},t.bakedArgSpecs={dropcol:[null],fillna:[[3,"fillVal","type","integer"]],resample:[[3,"frequency","enum",["daily","weekly","monthly"]],[4,"colMap","colEnum",["null","sum","mean","count"]]]}},6028:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetDCFCellExample=t.WidgetDCFCell=void 0;const l=o(n(7294)),i=n(4254),s=n(6281),d=n(8734),u=n(4471),c=n(7609),m=n(4619),f=n(7717);function p({origDf:e,operations:t,on_operations:n,operation_results:a,commandConfig:r,dfConfig:o,on_dfConfig:i,summaryDf:d}){const[m,f]=(0,l.useState)("stoptime"),p={showCommands:o.showCommands},b=Object.assign(Object.assign({},o),{rowsShown:e.data.length||0});return l.default.createElement("div",{className:"dcf-root flex flex-col",style:{width:"100%",height:"100%"}},l.default.createElement("div",{className:"orig-df flex flex-row",style:{height:"450px",overflow:"hidden"}},l.default.createElement(c.StatusBar,{config:b,setConfig:i}),l.default.createElement(u.DFViewer,{df:o.summaryStats?d:e,activeCol:m,setActiveCol:f})),p.showCommands?l.default.createElement(s.ColumnsEditor,{df:e,activeColumn:m,operations:t,setOperations:n,operationResult:a,commandConfig:r,widgetConfig:p}):l.default.createElement("span",null))}t.WidgetDCFCell=p,t.WidgetDCFCellExample=function(){const[e,t]=(0,l.useState)({totalRows:1309,columns:30,rowsShown:500,sampleSize:1e4,sampled:!0,summaryStats:!1,showCommands:!0}),[n,a]=(0,l.useState)(f.bakedOperations);return l.default.createElement(p,{origDf:d.tableDf,operations:n,on_operations:a,operation_results:i.baseOperationResults,commandConfig:m.bakedCommandConfig,dfConfig:e,on_dfConfig:t,summaryDf:d.tableDf})}},4471:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DFViewer=void 0;const i=o(n(7294)),s=l(n(4439)),d=n(8734),u=n(214),c=n(4775);t.DFViewer=function({df:e,style:t,activeCol:n,setActiveCol:a}={df:d.EmptyDf,style:{height:"300px"},setActiveCol:()=>null}){const[r,o]=(0,u.dfToAgrid)(e),l=(0,u.updateAtMatch)(s.default.clone(r),n||"___never",{cellStyle:{background:"var(--ag-range-selection-background-color-3)"}},{cellStyle:{}}),m={rowSelection:"single",onRowClicked:e=>console.log("A row was clicked"),defaultColDef:{sortable:!0,type:"rightAligned"},onCellClicked:e=>{const t=e.column.getColId();void 0!==a&&void 0!==t&&a(t)}},f=(0,i.useRef)(null);return((e,t)=>{let n,a=50,r=!1,o=-10;if(void 0===f||null===f.current)o=200;else try{const e=f.current.columnApi.getAllDisplayedColumns();o=0!==e.length?e[0].getActualWidth():200}catch(e){console.log("88, gridref not defined yet",e)}const l=()=>{if(void 0!==f&&void 0!==f.current&&null!==f.current&&void 0!==f.current.columnApi){f.current.columnApi.autoSizeAllColumns();const e=f.current.columnApi.getAllDisplayedColumns();if(0!==e.length){const t=e[0].getActualWidth();!1===r?(o=t,r=!0):o=t}f.current.forceUpdate()}return a>0&&!1===r||a>0&&200===o?(a-=1,void(n=setTimeout(l,350))):void 0};n=setTimeout(l,350)})(),i.default.createElement("div",{className:"df-viewer"},i.default.createElement("div",{style:{height:400},className:"theme-hanger ag-theme-alpine-dark"},i.default.createElement(c.AgGridReact,{ref:f,gridOptions:m,rowData:o,columnDefs:l})))}},4254:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DependentTabs=t.TabComponent=t.baseOperationResults=t.TransformViewer=t.PythonDisplayer=t.OperationDisplayer=void 0;const l=o(n(7294)),i=n(8734),s=n(4471);function d({filledOperations:e,style:t}){const n=Object.assign(Object.assign({},{margin:"0",textAlign:"left"}),t);return l.default.createElement("div",{className:"command-displayer",style:{width:"100%"}},l.default.createElement("pre",{style:n},JSON.stringify(e)))}function u({style:e,generatedPyCode:t}){const n=Object.assign(Object.assign({},{margin:"0",textAlign:"left"}),e);return l.default.createElement("div",{className:"python-displayer",style:{width:"100%"}},l.default.createElement("pre",{style:n},t))}function c({style:e,transformedDf:t}){return l.default.createElement("div",{className:"transform-viewer"},l.default.createElement(s.DFViewer,{style:e,df:t}))}function m({currentTab:e,_setTab:t,tabName:n}){return l.default.createElement("li",{onClick:()=>{t(n)},className:e===n?"active":""},n)}t.OperationDisplayer=d,t.PythonDisplayer=u,t.TransformViewer=c,t.baseOperationResults={transformed_df:i.EmptyDf,generated_py_code:"default py code"},t.TabComponent=m,t.DependentTabs=function({filledOperations:e,operationResult:t}){const[n,a]=(0,l.useState)("DataFrame"),r={height:"45vh"};return console.log("dependenttabs operationResult",t),l.default.createElement("div",{className:"dependent-tabs",style:{width:"100%"}},l.default.createElement("ul",{className:"tabs"},l.default.createElement(m,{currentTab:n,_setTab:a,tabName:"DataFrame"}),l.default.createElement(m,{currentTab:n,_setTab:a,tabName:"Python"}),l.default.createElement(m,{currentTab:n,_setTab:a,tabName:"Operations"})),l.default.createElement("div",{className:"output-area"},t.transform_error?l.default.createElement("div",null,l.default.createElement("h2",null," error "),l.default.createElement(u,{style:r,generatedPyCode:t.transform_error})):l.default.createElement("span",null),{Operations:l.default.createElement(d,{style:r,filledOperations:e}),Python:l.default.createElement(u,{style:r,generatedPyCode:t.generated_py_code}),DataFrame:l.default.createElement(c,{style:r,transformedDf:t.transformed_df})}[n]))}},6022:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ArgGetters=t.OperationDetail=void 0;const r=a(n(4439)),o=n(7989),l=a(n(7294));t.OperationDetail=({command:e,setCommand:n,deleteCB:a,columns:o,commandPatterns:i})=>{if(void 0===e)return l.default.createElement("h2",null," error undefined command ");const s=e[0].symbol,d=i[s];if(r.default.isArray(d)){if(r.default.isEqual(d,[null]))return l.default.createElement("div",{className:"operation-detail"},l.default.createElement("button",{onClick:a},"X"));{const r=d;return l.default.createElement("div",{className:"operation-detail"},l.default.createElement(t.ArgGetters,{command:e,fullPattern:r,setCommand:n,columns:o,deleteCB:a}))}}return l.default.createElement("h2",null,"unknown command ",s)},t.ArgGetters=({command:e,fullPattern:t,setCommand:n,columns:a,deleteCB:r})=>l.default.createElement("div",{className:"arg-getters"},l.default.createElement("button",{onClick:r},"X"),t.map((t=>{const r=t[0],s=e[r];return l.default.createElement("div",{key:r},l.default.createElement(i,{argProps:t,val:s,setter:t=>{const a=(0,o.replaceAtIdx)(e,r,t);n(a)},columns:a}))})));const i=({argProps:e,val:t,setter:n,columns:a})=>{const[i,s,d,u]=e;if("enum"===d&&r.default.isArray(u))return l.default.createElement("fieldset",null,l.default.createElement("label",null," ",s," "),l.default.createElement("select",{defaultValue:t,onChange:e=>n(e.target.value)},u.map((e=>l.default.createElement("option",{key:e,value:e},e)))));if("type"===d){if("integer"===u){const e=e=>n(parseInt(e.target.value));return l.default.createElement("fieldset",null,l.default.createElement("label",null," ",s," "),l.default.createElement("input",{type:"number",defaultValue:t,step:"1",onChange:e}))}return l.default.createElement("fieldset",null,l.default.createElement("label",null," ",s," "),l.default.createElement("input",{value:"dont know"}))}if("colEnum"===d){const e=a.map((e=>{const a=r.default.get(t,e,"null");return r.default.isArray(u)?l.default.createElement("td",null,l.default.createElement("select",{defaultValue:a,onChange:a=>{const l=a.target.value;if(r.default.isString(l)){const a=(0,o.replaceAtKey)(t,e,l);n((0,o.objWithoutNull)(a,["null"]))}}},u.map((e=>l.default.createElement("option",{key:e,value:e},e))))):l.default.createElement("h3",null," arg error")}));return l.default.createElement("div",{className:"col-enum"},l.default.createElement("table",null,l.default.createElement("thead",null,l.default.createElement("tr",null,a.map((e=>l.default.createElement("th",null,e))))),l.default.createElement("tbody",null,l.default.createElement("tr",null,e))))}return l.default.createElement("h3",null," unknown argtype ")}},7717:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bakedOperations=t.sym=void 0;const a=n(3537);t.sym=e=>({symbol:e}),t.bakedOperations=[[(0,t.sym)("dropcol"),a.symDf,"col1"],[(0,t.sym)("fillna"),a.symDf,"col2",5],[(0,t.sym)("resample"),a.symDf,"month","monthly",{}]]},2548:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},l=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{s(a.next(e))}catch(e){o(e)}}function i(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}s((a=a.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=t.OperationViewer=t.OperationAdder=t.OperationsList=void 0;const s=o(n(7294)),d=i(n(4439)),u=n(7989),c=n(4619),m=n(6022),f=n(4775),p=n(214);n(4052),n(6141);const b=n(8734),g=e=>d.default.map(Array.from(e.entries()),(([e,t])=>{const n=t[0].symbol;return{field:n+e.toString(),headerName:n}}));t.OperationsList=({operations:e,activeKey:t,setActiveKey:n})=>{const a=d.default.map(Array.from(e.entries()),(([e,t])=>{const n={};return n[t[0].symbol+e.toString()]=t[2],n})),r=[d.default.merge({},...a)],o=g(e),l=(0,p.updateAtMatch)(d.default.clone(o),t||"___never",{cellStyle:{background:"var(--ag-range-selection-background-color-3)"}},{cellStyle:{}}),i={rowSelection:"single",headerHeight:30,onCellClicked:e=>{const t=e.column.getColId();n(t)}};return s.default.createElement("div",{style:{height:78,width:1e3},className:"ag-theme-alpine"},s.default.createElement(f.AgGridReact,{gridOptions:i,rowData:r,columnDefs:l}))},t.OperationAdder=({column:e,addOperationCb:t,defaultArgs:n})=>s.default.createElement("div",{className:"operation-adder"},s.default.createElement("span",{className:"column-name"}," Column: ",e),s.default.createElement("fieldset",null,d.default.keys(n).map((a=>{return s.default.createElement("button",{key:a,onClick:(r=a,()=>{const a=n[r];t((0,u.replaceInArr)(a,"col",e))})}," ",a," ");var r})))),t.OperationViewer=({operations:e,setOperations:n,activeColumn:a,allColumns:r,commandConfig:o})=>{const l=d.default.map(Array.from(e.entries()),(([e,t])=>{const n={};return n[t[0].symbol+e.toString()]=t,n})),i=d.default.merge({},...l),u=d.default.map(Array.from(e.entries()),(([e,t])=>{const n={};return n[t[0].symbol+e.toString()]=e,n})),c=d.default.merge({},...u),[f,p]=(0,s.useState)(""),{argspecs:b,defaultArgs:h}=o;return s.default.createElement("div",{className:"command-viewer"},s.default.createElement(t.OperationAdder,{column:a,addOperationCb:t=>{const a=[...e,t];n(a);const r=g(a)[a.length-1].field;void 0!==r&&p(r)},defaultArgs:h}),s.default.createElement("div",{className:"operations-box"},s.default.createElement("h4",null," Operations "),s.default.createElement(t.OperationsList,{operations:e,activeKey:f,setActiveKey:p})),f&&s.default.createElement(m.OperationDetail,{command:i[f],setCommand:(y=f,t=>{const a=c[y],r=e.map(((e,n)=>n===a?t:e));n(r)}),deleteCB:function(t){return()=>{const a=c[t],r=e.map(((e,t)=>t===a?void 0:e));p(""),n(d.default.filter(r))}}(f),columns:r,commandPatterns:b}));var y},t.Commands=()=>{const[e,n]=(0,s.useState)(b.bakedOperations),[a,r]=(0,s.useState)(c.bakedCommandConfig);return(0,s.useEffect)((()=>{fetch("http://localhost:5000/dcf/command-config").then((e=>l(void 0,void 0,void 0,(function*(){r(yield e.json())}))))}),[]),s.default.createElement("div",{style:{width:"100%",height:"100%"}},s.default.createElement(t.OperationViewer,{operations:e,setOperations:n,activeColumn:"new-column2",allColumns:["foo-col","bar-col","baz-col"],commandConfig:a}),s.default.createElement("code",{style:{fontSize:"1em",textAlign:"left"}}," ",JSON.stringify(e,null,"\t\n\r")," "))}},7609:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarEx=t.StatusBar=void 0;const l=o(n(7294)),i=n(4775),s=n(214),d=[{field:"summaryStats",headerName:"Σ",headerTooltip:"Summary Stats",width:30},{field:"showCommands",headerName:"λ",headerTooltip:"Show Commands",width:30},{field:"sampled",headerName:"Ξ",headerTooltip:"Sampled",width:30},{field:"help",headerName:"?",headerTooltip:"Help",width:30,cellRenderer:function(e){return l.default.createElement("a",{href:"https://buckaroo-data.readthedocs.io/en/latest/feature_reference.html",target:"_blank",rel:"noopener"},"?")}},{field:"totalRows",width:100},{field:"columns",width:100},{field:"rowsShown",width:120},{field:"sampleSize",width:120}];function u({config:e,setConfig:t}){const{totalRows:n,columns:a,rowsShown:r,sampleSize:o,sampled:u,summaryStats:c,showCommands:m}=e,f=[{totalRows:s.intFormatter.format(n),columns:a,rowsShown:s.intFormatter.format(r),sampleSize:s.intFormatter.format(o),sampled:u?"1":"0",summaryStats:c?"1":"0",showCommands:m?"1":"0"}],p=(0,l.useRef)(null);return l.default.createElement("div",{className:"statusBar"},l.default.createElement("div",{style:{height:50},className:"theme-hanger ag-theme-alpine-dark"},l.default.createElement(i.AgGridReact,{ref:p,onCellClicked:n=>{const a=n.column.getColId();"summaryStats"===a?t(Object.assign(Object.assign({},e),{summaryStats:!e.summaryStats})):"sampled"===a?t(Object.assign(Object.assign({},e),{sampled:!e.sampled})):"showCommands"===a&&t(Object.assign(Object.assign({},e),{showCommands:!e.showCommands}))},gridOptions:{rowSelection:"single"},defaultColDef:{type:"left-aligned",cellStyle:{textAlign:"left"}},rowData:f,columnDefs:d})))}t.StatusBar=u,t.StatusBarEx=function(){const[e,t]=(0,l.useState)({totalRows:1309,columns:30,rowsShown:500,sampleSize:1e4,sampled:!0,summaryStats:!1,showCommands:!0});return l.default.createElement(u,{config:e,setConfig:t})}},4619:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bakedCommandConfig=t.bakedOperationDefaults=void 0;const a=n(7989),r=n(3537);t.bakedOperationDefaults={dropcol:[(0,a.sym)("dropcol"),r.symDf,"col"],fillna:[(0,a.sym)("fillna"),r.symDf,"col",8],resample:[(0,a.sym)("resample"),r.symDf,"col","monthly",{}]},t.bakedCommandConfig={argspecs:r.bakedArgSpecs,defaultArgs:t.bakedOperationDefaults}},214:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dfToAgrid=t.anyFormatter=t.intFormatter=t.updateAtMatch=void 0;const r=a(n(4439));t.updateAtMatch=(e,t,n,a)=>e.map((e=>e.field===t?Object.assign(Object.assign({},e),n):Object.assign(Object.assign({},e),a))),t.intFormatter=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:3});const o=new Intl.NumberFormat("en-US",{minimumFractionDigits:3,maximumFractionDigits:3});function l(e){if(void 0===e||!1===e.is_numeric)return t.anyFormatter;{const t=Math.floor(e.max_digits/3);if(e.is_integer){const n=t+e.max_digits;return e=>(console.log("params",e),new Intl.NumberFormat("en-US").format(e.value).padStart(n," "))}return e=>o.format(e.value)}}t.anyFormatter=e=>{const n=e.value;try{const e=Number(n);if(null===n)return"";if(void 0===n)return"";if(Number.isFinite(e))return Number.isInteger(e)?`${t.intFormatter.format(e)}    `:o.format(e)}catch(e){}return n},t.dfToAgrid=function(e){return[e.schema.fields.map((t=>{const n={field:t.name,valueFormatter:l(r.default.get(e.table_hints,t.name,{is_numeric:!1}))};return"index"===t.name&&(n.pinned="left"),n})),e.data]}},8734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tableDf=t.foo=t.EmptyDf=t.bakedOperations=t.bakedCommandConfig=t.bakedOperationDefaults=void 0;const a=n(7989),r=n(3537);t.bakedOperationDefaults={dropcol:[(0,a.sym)("dropcol"),r.symDf,"col"],fillna:[(0,a.sym)("fillna"),r.symDf,"col",8],resample:[(0,a.sym)("resample"),r.symDf,"col","monthly",{}]},t.bakedCommandConfig={argspecs:r.bakedArgSpecs,defaultArgs:t.bakedOperationDefaults},t.bakedOperations=[[(0,a.sym)("dropcol"),r.symDf,"col1"],[(0,a.sym)("fillna"),r.symDf,"col2",5],[(0,a.sym)("resample"),r.symDf,"month","monthly",{}]],t.EmptyDf={schema:{fields:[],primaryKey:[],pandas_version:""},table_hints:{},data:[]},t.foo={schema:{fields:[{name:"index",type:"integer"},{name:"tripduration",type:"integer"},{name:"starttime",type:"string"},{name:"stoptime",type:"string"},{name:"start station id",type:"integer"},{name:"start station name",type:"string"},{name:"start station latitude",type:"number"},{name:"bikeid",type:"integer"},{name:"birth year",type:"string"},{name:"gender",type:"integer"}],primaryKey:["index"],pandas_version:"1.4.0"},table_hints:{index:{is_numeric:!1},tripduration:{is_numeric:!1},starttime:{is_numeric:!1},stoptime:{is_numeric:!1},"start station id":{is_numeric:!1},"start station name":{is_numeric:!1},"start station latitude":{is_numeric:!1},bikeid:{is_numeric:!1},"birth year":{is_numeric:!1},gender:{is_numeric:!1}},data:[{index:0,tripduration:404,starttime:"2014-07-01 00:00:04",stoptime:"2014-07-01 00:06:48","start station id":545,"start station name":"E 23 St & 1 Ave","start station latitude":40.736502,bikeid:19578,"birth year":"1987",gender:2},{index:1,tripduration:850,starttime:"2014-07-01 00:00:06",stoptime:"2014-07-01 00:14:16","start station id":238,"start station name":"Bank St & Washington St","start station latitude":40.7361967,bikeid:19224,"birth year":"1987",gender:1},{index:2,tripduration:1550,starttime:"2014-07-01 00:00:21",stoptime:"2014-07-01 00:26:11","start station id":223,"start station name":"W 13 St & 7 Ave","start station latitude":40.73781509,bikeid:17627,"birth year":"1973",gender:2},{index:3,tripduration:397,starttime:"2014-07-01 00:00:29",stoptime:"2014-07-01 00:07:06","start station id":224,"start station name":"Spruce St & Nassau St","start station latitude":40.71146364,bikeid:15304,"birth year":"1982",gender:1},{index:4,tripduration:609,starttime:"2014-07-01 00:00:37",stoptime:"2014-07-01 00:10:46","start station id":346,"start station name":"Bank St & Hudson St","start station latitude":40.73652889,bikeid:20062,"birth year":"1972",gender:2}]},t.tableDf={schema:{fields:[{name:"index",type:"integer"},{name:"end station name",type:"string"},{name:"tripduration",type:"integer"},{name:"start station name",type:"string"},{name:"floatCol",type:"float"}],primaryKey:["index"],pandas_version:"1.4.0"},data:[{index:0,"end station name":"Elizabeth St & Hester St",tripduration:471,"start station name":"Catherine St & Monroe St",floatCol:"1.111"},{index:1,"end station name":"South St & Whitehall St",tripduration:1494,"start station name":"1 Ave & E 30 St",floatCol:"8.888"},{index:2,"end station name":"E 59 St & Sutton Pl",tripduration:464,"start station name":"E 48 St & 3 Ave",floatCol:"9.999"},{index:3,"end station name":"E 33 St & 5 Ave",tripduration:373,"start station name":"Pershing Square N",floatCol:"-10.1"},{index:4,"end station name":"Hancock St & Bedford Ave",tripduration:660,"start station name":"Atlantic Ave & Fort Greene Pl",floatCol:"10.99"}],table_hints:{"end station name":{is_numeric:!1},tripduration:{is_numeric:!0,is_integer:!0,min_digits:3,max_digits:4,histogram:[[.6,0,.2,0,0,0,0,0,0,.2],[373,485.1,597.2,709.3,821.4,933.5,1045.6,1157.7,1269.8,1381.9,1494]]},"start station name":{is_numeric:!1},floatCol:{is_numeric:!0,is_integer:!1,min_digits:1,max_digits:3,histogram:[[.6,0,.2,0,0,0,0,0,0,.2],[373,485.1,597.2,709.3,821.4,933.5,1045.6,1157.7,1269.8,1381.9,1494]]}}}},7989:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{s(a.next(e))}catch(e){o(e)}}function i(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.objWithoutNull=t.replaceAtKey=t.replaceAtIdx=t.replaceInArr=t.sym=t.requestDf=void 0;const o=r(n(4439));t.requestDf=(e,t)=>fetch(e).then((e=>a(void 0,void 0,void 0,(function*(){const n=yield e.json();t(n)})))),t.sym=e=>({symbol:e}),t.replaceInArr=function(e,t,n){return e.map((e=>e===t?n:e))},t.replaceAtIdx=function(e,t,n){return e.map(((e,a)=>a===t?n:e))},t.replaceAtKey=function(e,t,n){const a=o.default.clone(e);return a[t]=n,a},t.objWithoutNull=(e,t=[])=>o.default.pickBy(e,(e=>![null,void 0,...t].includes(e)))},8399:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DCEFWidgetView=t.DCEFWidgetModel=void 0;const l=n(2492),i=n(6028),s=o(n(7294)),d=o(n(745)),u=n(8657);n(4052),n(6141),n(2330);class c extends l.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:c.model_name,_model_module:c.model_module,_model_module_version:c.model_module_version,_view_name:c.view_name,_view_module:c.view_module,_view_module_version:c.view_module_version,commandConfig:{},operations:[],operation_results:{},dfConfig:{}})}}t.DCEFWidgetModel=c,c.serializers=Object.assign({},l.DOMWidgetModel.serializers),c.model_name="DCEFWidgetModel",c.model_module=u.MODULE_NAME,c.model_module_version=u.MODULE_VERSION,c.view_name="ExampleView",c.view_module=u.MODULE_NAME,c.view_module_version=u.MODULE_VERSION;class m extends l.DOMWidgetView{render(){this.el.classList.add("custom-widget"),console.log("widget el",this.el);const e=d.createRoot(this.el),t=s.default.createElement((()=>{const[e,t]=(0,s.useState)(0),n=()=>{t((e=>e+1))};(0,s.useEffect)((()=>{this.listenTo(this.model,"change",n)}),[]);const a={};for(const e of Object.keys(this.model.attributes))a[e]=this.model.get(e),a["on_"+e]=t=>{this.model.set(e,t),this.touch()};return s.default.createElement(i.WidgetDCFCell,a)}),{});e.render(t)}}t.DCEFWidgetView=m},8657:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const a=n(4147);t.MODULE_VERSION=a.version,t.MODULE_NAME=a.name},4441:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(3645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".column-list {\n  width: 100%;\n  font-size: 1rem;\n}\n.column-list dl {\n  display: flex;\n  margin: 0;\n  padding: 0;\n}\n.column-list dl div.list-item {\n  padding: 3px;\n}\n.column-list dl div.list-item dt {\n  float: left;\n  max-width: 90px;\n  overflow: hidden;\n  max-height: 1rem;\n}\n.column-list dl div.list-item dd {\n  float: right;\n}\n.column-list dl div.list-item .column-editor {\n  width: 100%;\n  clear: both;\n  height: 30px;\n}\n.column-list dl div.list-item .column-editor label span {\n  float: left;\n}\n.column-list dl div.list-item .column-editor label input[type=checkbox] {\n  float: left;\n}\n.dependent-tabs {\n  font-size: 1rem;\n}\n.dependent-tabs ul.tabs li {\n  float: left;\n  background: var(--ag-background-color);\n  color: var(--ag-foreground-color);\n  border: 1px solid purple;\n  border-bottom: none;\n  list-style: none;\n  margin-right: 5px;\n  padding: 2px;\n}\n.dependent-tabs ul.tabs li.active {\n  background: var(--ag-range-selection-background-color-3);\n  color: var(--ag-alpine-active-color);\n}\n.dependent-tabs .output-area {\n  clear: both;\n  float: none;\n}\n\n.python-displayer, .command-displayer {\n  width: 100%;\n  height: 100%;\n  background: hsl(0, 0%, 13%);\n  overflow: hidden;\n  padding: 16px;\n  /*border:1px solid red; */\n}\n.python-displayer pre, .command-displayer pre {\n  color: #41FF00;\n}\n\n.command-displayer pre {\n  overflow: hidden;\n}\n\n.features {\n  font-size: 1.7rem;\n}\n.features div {\n  padding: 0.5rem;\n}\n\n.modal {\n  position: absolute;\n  background-color: #ffffff;\n  border: 1px solid black;\n  padding: 16px;\n  list-style: none;\n}\n.modal > li {\n  padding: 8px;\n}\n\n.command-viewer {\n  border: 1px solid;\n  color: black;\n  font-size: 1rem;\n}\n.command-viewer .operation-adder {\n  clear: both;\n}\n.command-viewer .operation-adder span.column-name {\n  float: left;\n  display: block;\n  color: black;\n}\n.command-viewer .operation-adder fieldset {\n  float: left;\n}\n.command-viewer .operations-box {\n  clear: left;\n  display: flex;\n  overflow: auto;\n}\n.command-viewer .operations-box h4 {\n  font-size: 1em;\n  border: 1px orange;\n  color: black;\n}\n.command-viewer .operations-box div {\n  overflow-x: scroll;\n}\n\n.operation-detail {\n  overflow: auto;\n}\n.operation-detail button {\n  float: left;\n}\n.operation-detail .arg-getters button {\n  float: left;\n}\n.operation-detail .arg-getters fieldset {\n  float: left;\n}\n.operation-detail .arg-getters div.col-enum {\n  float: left;\n  width: 800px;\n  overflow-x: scroll;\n}\n.operation-detail .arg-getters div.col-enum table td, .operation-detail .arg-getters div.col-enum table th {\n  border: 1px solid black;\n}\n\n.col-enum table {\n    margin-bottom:9px;\n}\n\n.ag-theme-alpine-dark  {\n    --ag-grid-size:3px;\n    --ag-list-item-height: 20px;\n }\n\ndiv.dependent-tabs ul.tabs li.active {\n    background:rgba(33, 150, 243, 0.49);\n/*    border:1px solid red; */\n}\n\n.ag-row .ag-cell {\n    font-family: monospace;\n    white-space: pre;\n}\n.left-menu {\n    color:black;\n}\n\n.dev-examples .statusBar {\n    width:800px; border:3px dashed purple;\n    \n\n}\n",""]);const o=r},2330:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(3379),r=n.n(a),o=n(4441);r()(o.Z,{insert:"head",singleton:!1});const l=o.Z.locals||{}},4147:e=>{e.exports=JSON.parse('{"name":"buckaroo","version":"0.2.26","description":"Fast Datagrid widget for the Jupyter Notebook and JupyterLab","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","lib/**/*.js.map","lib/**/*.ts","dist/*.js","dist/*.js.map","dist/*.png","style/**/*.*"],"homepage":"https://github.com/paddymul/buckaroo","bugs":{"url":"https://github.com/paddymul/buckaroo/issues"},"license":"BSD-3-Clause","author":{"name":"Paddy Mullen","email":""},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/paddymul/buckaroo"},"scripts":{"build":"npm run build:lib && npm run build:nbextension && npm run build:labextension","build-full":"npm run build:lib &&  run build:nbextension && npm run build:labextension","build:dev":"npm run build:lib && npm run build:nbextension && npm run build:labextension:dev","build:labextension":"jupyter labextension build .","build:labextension:dev":"which jupyter && jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack --mode=production --no-devtool","build:widget-examples":"cd widget-examples/basic && webpack --mode=production","build:all":"npm run build:labextension && npm run build:nbextension && npm run build:widget-examples","clean":"rimraf dist && npm run clean:lib && npm run clean:labextension && npm run clean:nbextension","clean:lib":"rimraf lib","clean:labextension":"rimraf buckaroo/labextension","clean:nbextension":"rimraf buckaroo/nbextension/index.*","lint":"eslint \'js/**/*.{ts,tsx}\'","lint:check":"eslint \'js/**/*.{ts,tsx}\'","lint:fix":"eslint \'js/**/*.{ts,tsx}\' --fix","prepack":"npm run build:labextension && npm run build:nbextension","test":"jest --verbose --passWithNoTests","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch","watch:labextension":"jupyter labextension watch .","dev":"webpack-cli serve --mode=development --env development --open"},"dependencies":{"@jupyter-widgets/base":"^2 || ^3 || ^4 || ^6.0.0","@jupyterlab/apputils":"^3.0.2","ag-grid-community":"^29.2.0","ag-grid-react":"^29.2.0","lodash":"^4.17.21","react":"^18.0.0","react-dom":"^18.0.0"},"devDependencies":{"@babel/cli":"^7.6.3","@babel/core":"^7.6.3","@babel/preset-env":"^7.6.11","@babel/preset-typescript":"7.16.7","@jupyterlab/builder":"^3.0.1","@types/jest":"^28","@types/node":"^10.11.6","@types/react":"^18.0.0","@types/react-dom":"^18.0.0","@types/webpack-dev-server":"^3.11.1","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^5.9.1","@typescript-eslint/parser":"^5.9.1","acorn":"^6.2.0","babel-jest":"^28","babel-plugin-transform-es2015-modules-commonjs":"^6.26.2","css-loader":"^5.0.0","eslint":"^8.6.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-react":"^7.28.0","eslint-plugin-react-hooks":"^4.3.0","fs-extra":"^7.0.0","html-loader":"^2.1.2","html-webpack-plugin":"^5.0.0","jest":"^28","lint-staged":"^10.2.11","markdown-loader":"^7.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.6.2","prettier-standalone":"^1.3.1-0","prismjs":"^1.28.0","postcss":"^8.4.14","postcss-loader":"^7.0.1","postcss-preset-env":"^7.7.2","postcss-nested":"^6.0.0","sass":"^1.53.0","sass-loader":"^13.0.2","react-router":"^6.3.0","react-router-dom":"^5.2.0","rimraf":"^3.0.2","source-map-loader":"^0.2.4","style-loader":"^2.0.0","svg-url-loader":"^7.1.1","ts-jest":"^28.0.8","ts-loader":"^8.0.14","ts-node":"^9.1.1","tsconfig-paths-webpack-plugin":"^3.3.0","typescript":"^4.4.3","url-loader":"^4.1.0","webpack":"^5","webpack-cli":"^4.5.0","webpack-dev-server":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","webpackConfig":"webpack.lab.config.js","outputDir":"./buckaroo/labextension","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true},"@lumino/algorithm":{"bundled":false,"singleton":true},"@lumino/commands":{"bundled":false,"singleton":true},"@lumino/coreutils":{"bundled":false,"singleton":true},"@lumino/datagrid":{"bundled":false,"singleton":true},"@lumino/default-theme":{"bundled":false,"singleton":true},"@lumino/domutils":{"bundled":false,"singleton":true},"@lumino/messaging":{"bundled":false,"singleton":true},"@lumino/virtualdom":{"bundled":false,"singleton":true},"@lumino/widgets":{"bundled":false,"singleton":true},"react":false,"react-dom":false}}}')}}]);