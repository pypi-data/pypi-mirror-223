{"version":3,"sources":["BtnGroup.tsx","webpack:///./src/index.tsx?d986"],"names":["engine","Styletron","BtnGroup","props","_props$args","args","key","group_style","return_value","mode","disabled","theme","div_id","div_style","custom_fontawesome_url","additionalHeight","radio_default_index","_ref","buttons","initialSelectedValues","length","defaultButton","value","toString","_useState","useState","_useState2","_slicedToArray","selectedValues","setSelectedValues","handleClick","event","index","idx","indexOf","splice","push","_toConsumableArray","includes","useEffect","Streamlit","setComponentValue","wrapperRef","useRef","current","height","offsetHeight","setFrameHeight","React","createElement","Fragment","Helmet","src","crossOrigin","id","StyletronProvider","ThemeProvider","DarkTheme","LightTheme","style","ref","StatefulButtonGroup","MODE","undefined","initialState","selected","shape","size","onClick","eval","overrides","Root","map","button","buttonClass","merge_buttons","display_divider","Button","className","kind","startEnhancer","dangerouslySetInnerHTML","__html","endEnhancer","label","withStreamlitConnection","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db05251c.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\n\r\nimport {\r\n  ComponentProps,\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\";\r\nimport { Button } from \"baseui/button\";\r\nimport {\r\n  StatefulButtonGroup,\r\n  MODE,\r\n} from \"baseui/button-group\";\r\nimport { Client as Styletron } from \"styletron-engine-atomic\";\r\nimport { Provider as StyletronProvider } from \"styletron-react\";\r\nimport { LightTheme, DarkTheme } from \"baseui\";\r\nimport { ThemeProvider } from \"baseui\";\r\nimport { Helmet } from 'react-helmet';\r\n\r\n\r\ntype ButtonProps = {\r\n  label: string;\r\n  disabled?: boolean;\r\n  kind?: \"primary\" | \"secondary\" | \"tertiary\";\r\n  size?: string;\r\n  shape?: string;\r\n  value?: string;\r\n  overrides?: any;\r\n \r\n  startEnhancer?: string;\r\n  endEnhancer?: string;\r\n  onClick?: string;\r\n  style?: React.CSSProperties;\r\n\r\n};\r\n\r\n\r\nconst engine = new Styletron();\r\n\r\nconst BtnGroup = (props: ComponentProps) => {\r\n  const {\r\n    key,\r\n    group_style,\r\n    return_value,\r\n    mode,\r\n    disabled,\r\n    theme,\r\n    div_id,\r\n    div_style,\r\n    custom_fontawesome_url,\r\n    additionalHeight,\r\n    radio_default_index  \r\n  } = props.args;\r\n\r\n  const { buttons } = props.args as { buttons: ButtonProps[] };\r\n  // updated from here\r\n  let initialSelectedValues: string[] = [];\r\n  if (mode === \"radio\" && radio_default_index !== null && radio_default_index >= 0 && radio_default_index < buttons.length) {\r\n    const defaultButton = buttons[radio_default_index];\r\n    initialSelectedValues = [defaultButton.value || radio_default_index.toString()];\r\n  }\r\n  const [selectedValues, setSelectedValues] = useState<string[]>(initialSelectedValues);\r\n\r\n //const [selectedValues, setSelectedValues] = useState<string[]>([]);\r\n\r\nconst handleClick = (\r\n  event: React.SyntheticEvent<HTMLButtonElement, Event>,\r\n  index: number,\r\n  value: string\r\n) => {\r\n  // If value exists and is not an empty string, return the value; otherwise, return the index.\r\n  value = value && value !== \"\" ? value : index.toString();\r\n\r\n  if (mode === \"checkbox\") {\r\n    const idx = selectedValues.indexOf(value);\r\n    if (idx !== -1) {\r\n      selectedValues.splice(idx, 1);\r\n    } else {\r\n      selectedValues.push(value);\r\n    }\r\n    setSelectedValues([...selectedValues]);\r\n  } else if (mode === \"radio\") {\r\n    setSelectedValues([value]);\r\n  } else {\r\n    // Normal button mode\r\n    if (selectedValues.includes(value)) {\r\n      setSelectedValues([]);\r\n    } else {\r\n      setSelectedValues([value]);\r\n    }\r\n  }\r\n};\r\n\r\nuseEffect(() => {\r\n  if (return_value) {\r\n    Streamlit.setComponentValue(selectedValues);\r\n  }\r\n}, [selectedValues, return_value]);\r\n\r\n\r\n  // Create a ref for the button group wrapper\r\n  const wrapperRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (wrapperRef.current) {\r\n      // Measure the height of the wrapper\r\n      const height = wrapperRef.current.offsetHeight + 1 + additionalHeight;\r\n\r\n      // Set the iframe height to the height of the wrapper\r\n      Streamlit.setFrameHeight(height);\r\n    }\r\n  }, [wrapperRef]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <script src={custom_fontawesome_url} crossOrigin=\"anonymous\" id=\"font-awesome-icons\"></script> \r\n        <style>{`\r\n          .first-button {\r\n            border-top-right-radius: 0;\r\n            border-bottom-right-radius: 0;\r\n            margin-right: -1px;\r\n          }\r\n          .middle-button {\r\n            border-radius: 0;\r\n            margin-right: 0;\r\n          }\r\n          .middle-button.merge-dividers {\r\n            border-right: 1px solid #ccc;\r\n            border-left: 1px solid #ccc;\r\n          }\r\n          .last-button {\r\n            border-top-left-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n            margin-left: 0;\r\n          }\r\n        `}</style>\r\n      </Helmet>\r\n      <StyletronProvider value={engine}>\r\n        <ThemeProvider theme={theme === \"dark\" ? DarkTheme : LightTheme}>\r\n          <div id={div_id} style={div_style} ref={wrapperRef}>\r\n            <StatefulButtonGroup\r\n              key={key}\r\n              mode={\r\n                mode === \"checkbox\" || mode === \"radio\"\r\n                  ? MODE[mode as keyof typeof MODE]\r\n                  : undefined\r\n              }\r\n              initialState={{ selected: mode === \"radio\" && radio_default_index !== null ? [radio_default_index] : [] }}\r\n              shape={props.args.shape || \"default\"}\r\n              size={props.args.size || \"default\"}\r\n              onClick={(event, index) => {\r\n                handleClick(event, index, buttons[index].value || \"\");\r\n                if (buttons[index].onClick) {\r\n                  eval(buttons[index].onClick || \"\");\r\n                }\r\n              }}\r\n              overrides={{\r\n                Root: {\r\n                  style: group_style,\r\n                },\r\n              }}\r\n            >\r\n              {buttons.map((button, index) => {\r\n                let buttonClass = '';\r\n                if (props.args.merge_buttons) {\r\n                  if (index === 0) {\r\n                    buttonClass = 'first-button';\r\n                  } else if (index === buttons.length - 1) {\r\n                    buttonClass = 'last-button';\r\n                  } else {\r\n                    buttonClass = 'middle-button';\r\n                    if (props.args.display_divider) {\r\n                      buttonClass += ' merge-dividers';\r\n                    }\r\n                  }\r\n                }\r\n                return (\r\n                  <Button\r\n                    key={key + \"_\" + index}\r\n                    className={buttonClass}\r\n                    disabled={button.disabled || disabled}\r\n                    kind={button.kind || props.args.kind}\r\n                    startEnhancer={() => (\r\n                      <>\r\n                        {button.startEnhancer && (\r\n                          <span dangerouslySetInnerHTML={{ __html: button.startEnhancer }} />\r\n                        )}\r\n                      </>\r\n                    )}\r\n                    endEnhancer={() => (\r\n                      <>\r\n                        {button.endEnhancer && (\r\n                          <span dangerouslySetInnerHTML={{ __html: button.endEnhancer }} />\r\n                        )}\r\n                      </>\r\n                    )}\r\n                    style={button.style}\r\n                  >\r\n                    <span dangerouslySetInnerHTML={{ __html: button.label }} />\r\n                  </Button>\r\n                );\r\n              })}\r\n            </StatefulButtonGroup>\r\n          </div>\r\n        </ThemeProvider>\r\n      </StyletronProvider>\r\n    </>\r\n  );\r\n}\r\nexport default withStreamlitConnection(BtnGroup);","\r\nimport React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport BtnGroup from \"./BtnGroup\"\r\n\r\n// Lots of import to define a Styletron engine and load the light theme of baseui\r\n\r\n\r\n// Wrap your CustomSlider with the baseui them\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BtnGroup />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)"],"sourceRoot":""}