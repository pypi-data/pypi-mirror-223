import{d as R,aC as h,D as C,c as l,B as x,C as B,G as v,o as n,h as D,P as T,i as o,u as s,aD as g,W as E,q as N,_ as V,T as q,v as G,E as H,V as P,R as W,aE as $,aF as z,a as F,b as c,w as a,aG as J,g as p,aH as M,aI as O,aJ as U,a9 as X}from"./index-196a45a7.js";import{s as j,a as A}from"./index-d6eb1d44.js";import{u as K}from"./usePageTitle-c0627feb.js";const L={class:"flow-stats"},Q={class:"flow-stats__cards"},Y=R({__name:"FlowStats",props:{flowId:{}},setup(_){const i=_,{flowId:u}=h(i),t=C("span",q,A*24),r=l(()=>({flowId:u.value,timeSpanInSeconds:t.value}));x(B,{interval:j(30)});const f=l(()=>v.map("FlowStatsFilter",r.value,"FlowRunsFilter")),d=l(()=>v.map("FlowStatsFilter",r.value,"TaskRunsFilter"));return(m,e)=>(n(),D("div",L,[T("div",Q,[o(s(g),{filter:f.value},null,8,["filter"]),o(s(E),{filter:d.value},null,8,["filter"])]),o(s(V),{selected:s(t),"onUpdate:selected":e[0]||(e[0]=w=>N(t)?t.value=w:null),size:"sm"},null,8,["selected"])]))}});const oe=R({__name:"Flow",setup(_){const i=G(),u=H("flowId"),t=l(()=>[u.value]),r=P(),f=["Runs","Deployments","Details"],d={interval:3e5},m=W(i.flows.getFlow,[u.value],d),e=l(()=>m.response),{filter:w}=$({flows:{id:t}}),{filter:y}=z({flows:{id:t}});function I(){r.push(X.flows())}const S=l(()=>e.value?`Flow: ${e.value.name}`:"Flow");return K(S),(Z,ee)=>{const k=F("p-tabs"),b=F("p-layout-default");return n(),c(b,{class:"flow"},{header:a(()=>[e.value?(n(),c(s(J),{key:0,flow:e.value,onDelete:I},null,8,["flow"])):p("",!0)]),default:a(()=>[e.value?(n(),c(Y,{key:0,"flow-id":e.value.id},null,8,["flow-id"])):p("",!0),o(k,{tabs:f},{details:a(()=>[e.value?(n(),c(s(M),{key:0,flow:e.value},null,8,["flow"])):p("",!0)]),deployments:a(()=>[o(s(O),{filter:s(y)},null,8,["filter"])]),runs:a(()=>[o(s(U),{"flow-run-filter":s(w)},null,8,["flow-run-filter"])]),_:1})]),_:1})}}});export{oe as default};
