"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{5513:function(e,t,r){r.r(t),r.d(t,{default:function(){return de}});var n=r(6687),o=r(9499),i=r(7294),c=r(2441),a=r.n(c),l=r(5800),s=r(50),u=r(4525),f=r(917),p=r(1033),d=r(5944),b=new p.Z((function(e){s.ll.setFrameHeight(e[0].contentRect.height+25)})),g=function(e){null!==e?b.observe(e):b.disconnect()},m=function(e){var t=e.children;return(0,d.tZ)("div",{ref:g,children:t})},h=r(1265),v=r(2430),O=(0,h.Z)(),y=function(e){var t=e.children,r=e.theme,n=(0,i.useState)((0,h.Z)()),o=n[0],c=n[1];return(0,i.useEffect)((function(){if(void 0!==r){var e,t,n,o,i=O.palette;c((0,h.Z)({palette:{mode:r.base,primary:{main:null!==(e=r.primaryColor)&&void 0!==e?e:i.primary.main},secondary:{main:null!==(t=r.primaryColor)&&void 0!==t?t:i.primary.main},background:{default:null!==(n=r.backgroundColor)&&void 0!==n?n:i.background.default,paper:"dark"===r.base&&r.secondaryBackgroundColor||i.background.paper},text:{primary:null!==(o=r.textColor)&&void 0!==o?o:i.text.primary}}}))}}),[null===r||void 0===r?void 0:r.base,null===r||void 0===r?void 0:r.primaryColor,null===r||void 0===r?void 0:r.backgroundColor,null===r||void 0===r?void 0:r.secondaryBackgroundColor,null===r||void 0===r?void 0:r.textColor]),(0,d.tZ)(v.Z,{theme:o,children:t})},j=r(4730),w=r(629),P=r(6337),Z=r(4726),k=r(9888),S=r(7740),E=r(9041);var C=function(e){var t=e.state,r=e.modes,n=(0,E.M4)("System",{Scene:(0,E.so)({autoRotate:!1,autoRotateSpeed:{value:1,min:.4,max:4,step:.2}})}),o=n.autoRotate,i=n.autoRotateSpeed,c=(0,S.R)(t),a=(0,P.z)((function(e){return e.scene}));return(0,d.BX)(d.HY,{children:[c.current&&(0,d.tZ)(Z.Y,{object:a.getObjectByName(c.current),mode:r[c.mode]}),(0,d.tZ)(k.z,{makeDefault:!0,autoRotate:o,autoRotateSpeed:i})]})},x=r(5029),D=r(9479),M=r(6949),B=["file","fileExtension"],R=function(e){var t=e.file,r=e.fileExtension,n=((0,j.Z)(e,B),(0,i.useRef)(null)),o=(0,E.M4)("System",{debug:(0,E.so)({visible:!1})}).visible,c=(0,E.M4)("Object",{ChangeColor:!1,pickerElement:!1}),a=c.ChangeColor,l=c.pickerElement;(0,E.M4)({screenshot:(0,E.LI)((function(){if(n.current){var e=document.createElement("a");e.setAttribute("download","canvas.png"),e.setAttribute("href",n.current.toDataURL("image/png").replace("image/png","image/octet-stream")),console.log(n.current),e.click()}}))});var s=(0,M.sj)({current:null,items:{}});return(0,d.BX)(d.HY,{children:[(0,d.BX)(x.Xz,{gl:{antialias:!1,preserveDrawingBuffer:!0},ref:n,className:"CaptureSceen",shadows:!0,camera:{position:[0,1.2,2],fov:30},children:[o&&(0,d.tZ)(D.I,{position:"top-left"}),(0,d.tZ)(T,{state:s,ChangeColor:a,children:(0,d.tZ)(q,{file:t,fileExtension:r})})]}),(0,d.tZ)(_,{state:s,pickerElement:l})]})},z=r(5651);var _=function(e){var t=e.state,r=e.pickerElement,n=(0,S.R)(t);return(0,d.tZ)("div",{style:{display:n.current&&r?"block":"none",position:"absolute",top:"0"},children:(0,d.tZ)(z.gW,{className:"picker",color:n.items[n.current],onChange:function(e){t.items[t.current]=e,console.log(n)}})})},A=r(3034);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var H=function(){var e=(0,E.M4)("System",{Ground:(0,E.so)({cellColor:"#6f6f6f",sectionColor:"#9d4b4b",fadeDistance:{value:39,min:20,max:100,step:2}})}),t={cellSize:.5,cellThickness:.5,cellColor:e.cellColor,sectionSize:3,sectionThickness:1,sectionColor:e.sectionColor,fadeDistance:e.fadeDistance,fadeStrength:1,followCamera:!1,infiniteGrid:!0};return(0,d.tZ)(A.r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:[0,-.01,0],args:[10.5,10.5]},t))},I=function(){var e=(0,E.M4)("System",{Light:(0,E.so)({visible:!0,castShadow:!0,position:[0,0,0]})}),t=e.visible,r=e.castShadow,n=e.position;return(0,d.tZ)(d.HY,{children:(0,d.tZ)("directionalLight",{visible:t,castShadow:r,position:n})})},L=r(1217),N=r(4834);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){var t=e.file,r=e.fileExtension,n=e.state,o=e.modes,c=(0,i.useState)(null),a=c[0],l=c[1],s=(0,S.R)(n),u=(0,i.useState)(!1),f=u[0],p=u[1];(0,N.j)(f);var b=(0,E.M4)("Object",{Transform:(0,E.so)({debug:!1,scale:{value:[1,1,1],lock:!0},rotation:{value:[0,0,0],step:.1},position:{value:[0,0,0],step:.1}})}),g=b.scale,m=b.rotation,h=b.position,v=b.debug;return(0,i.useEffect)((function(){if(t){var e;switch(r){case"gltf":case"glb":e=new L.E;break;default:return void console.log("Unsupported file format:",r)}e.parse(t,"",(function(e){l(e.scene);var t=e.scene,r=t.name,n=t.children;console.log([r,n]),n.map((function(e){console.log(e)}))}),(function(e){console.log("An error happened",e)}))}}),[t]),a?(0,d.tZ)("group",F(F({},v?{onClick:function(e){return e.stopPropagation(),n.current=a.name},onPointerMissed:function(e){return"click"===e.type&&(n.current=null)},onContextMenu:function(e){return s.current===a.name&&(e.stopPropagation(),n.mode=(s.mode+1)%o.length)},onPointerOver:function(e){return e.stopPropagation(),p(!0)},onPointerOut:function(e){return p(!1)},name:a.name,dispose:null}:{}),{},{children:(0,d.tZ)("primitive",{object:a,scale:g,rotation:m,position:h})})):null};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e){var t=e.children,r=e.state,n=e.ChangeColor,o=(0,i.useState)(null),c=o[0],a=o[1],l=(0,S.R)(r);return(0,i.useEffect)((function(){var e='<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <g clip-path="url(#clip0)">\n            <path fill="rgba(255, 255, 255, 0.5)" d="M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z" stroke="#000"/>\n            <g filter="url(#filter0_d)"><path d="M29.5 47C39.165 47 47 39.165 47 29.5S39.165 12 29.5 12 12 19.835 12 29.5 19.835 47 29.5 47z" fill="'.concat(l.items[c],'"/>\n            </g>\n            <path d="M2 2l11 2.947L4.947 13 2 2z" fill="#000"/>\n            <rect x="0" y="75" width="64" height="30" fill="#fff" />\n            <text fill="#000" style="white-space:pre" font-family="Inter var, sans-serif" font-size="12" letter-spacing="-.01em">\n                <tspan x="0" y="63">').concat(c,'</tspan>\n            </text>\n        </g>\n        <defs>\n        <clipPath id="clip0"><path fill="#fff" d="M0 0h64v64H0z"/></clipPath><filter id="filter0_d" x="6" y="8" width="47" height="47" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="2"/><feGaussianBlur stdDeviation="3"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>'),t='<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="rgba(255, 255, 255, 0.5)" d="M29.5 54C43.031 54 54 43.031 54 29.5S43.031 5 29.5 5 5 15.969 5 29.5 15.969 54 29.5 54z" stroke="#000"/><path d="M2 2l11 2.947L4.947 13 2 2z" fill="#000"/></svg>';return c&&!n?(document.body.style.cursor="url('data:image/svg+xml;base64,".concat(btoa(e),"'), auto"),function(){document.body.style.cursor="url('data:image/svg+xml;base64,".concat(btoa(t),"'), auto")}):function(){document.body.style.cursor="url('data:image/svg+xml;base64,".concat(btoa(t),"'), auto")}}),[c,n]),(0,d.tZ)("group",Y(Y({},n?{onPointerOver:function(e){e.stopPropagation(),a(e.object.name)},onPointerOut:function(e){return 0===e.intersections.length&&a(null)},onPointerMissed:function(){return r.current=null},onClick:function(e){if(e.stopPropagation(),r.current=e.object.name,l.items[c]){var t=e.object;if(Array.isArray(t.material))t.material.forEach((function(e){"color"in e&&e.color.set(l.items[r.current])}));else{var n=t.material;"color"in n&&n.color.set(l.items[r.current])}}else r.items[c]="#fff"}}:{}),{},{children:t}))},J=r(4922),V=r(2809),q=function(e){var t=e.file,r=e.fileExtension,n=(0,M.sj)({current:null,mode:0}),o=["translate","rotate","scale"];return(0,d.BX)("group",{position:[0,-1.5,0],children:[(0,d.tZ)(J.H,{environment:"city",intensity:.6,children:(0,d.tZ)(i.Suspense,{fallback:null,children:(0,d.tZ)(U,{file:t,fileExtension:r,state:n,modes:o})})}),(0,d.tZ)(V.P,{}),(0,d.tZ)(H,{}),(0,d.tZ)(I,{}),(0,d.tZ)(C,{state:n,modes:o})]})},K=["file","fileExtension","callback"];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee={Object:function(e){var t=e.file,r=e.fileExtension,n=(e.callback,(0,j.Z)(e,K));return(0,E.M4)((function(){return{author:{value:"Author: Blong1204\nEmail: longle12042006a@gmail.com",editable:!1,label:""},"Input&Output":(0,E.so)({},{order:1,collapsed:!0}),System:(0,E.so)({},{order:2,collapsed:!0}),Object:(0,E.so)({},{order:3,collapsed:!0})}})),(0,d.BX)(w.Z,{elevation:0,id:"canvas-container",sx:{borderRadius:"0.5rem",padding:"1rem",height:"32rem"},children:[(0,d.tZ)(E.Zf,{titleBar:{title:"B\u1ea3ng \u0111i\u1ec1u ki\u1ec3n"}}),(0,d.tZ)(R,$($({},n),{},{file:t,fileExtension:r}))]})}},te=function(e){return ee[e]},re=function(e){return e},ne=r(5152),oe=r.n(ne),ie=r(815),ce={Player:oe()((function(){return r.e(310).then(r.bind(r,6310))}),{loading:ie.Z,ssr:!1,loadableGenerated:{webpack:function(){return[6310]}}})};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={renderObject:te,html:re,mediaPlayer:function(e){return ce[e]}},ue=function(e){e=le(le({},e),{},{timestamp:Date.now()}),s.ll.setComponentValue(JSON.stringify(e,function(){var e=new WeakSet;return function(t,r){if(!(t.startsWith("_")||r instanceof Window)){if(r instanceof Object&&null!==r){if(e.has(r))return;e.add(r)}return r}}}()))},fe=function(e,t,r,o){if(!se.hasOwnProperty(e))throw new Error("Module ".concat(e," does not exist"));var i=se[e](t);if(void 0===i)throw new Error("Element ".concat(t," does not exist in module ").concat(e));return f.tZ.apply(void 0,[i,r].concat((0,n.Z)(o)))},pe=function(e){var t=e.args,r=e.theme,o=(0,i.useState)("return []"),c=o[0],s=o[1];return(0,i.useEffect)((function(){return s('"use strict";try{return('.concat(t.js,");}catch(error){send({error:error.message});return([]);}")),a().bind("r",(function(){ue({})})),function(){a().unbind("r")}}),[t.js]),(0,d.tZ)(m,{children:(0,d.tZ)(y,{theme:r,children:(0,d.tZ)(l.ErrorBoundary,{fallback:(0,d.tZ)("div",{}),onError:function(e){return ue({error:e.message})},children:f.tZ.apply(void 0,["div",null].concat((0,n.Z)(new Function("render","send","window",c)(fe,ue,window))))})})})},de=(0,s.ue)(i.memo(pe,u.J))}}]);